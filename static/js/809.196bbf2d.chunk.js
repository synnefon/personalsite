"use strict";(self.webpackChunkpersonalsite=self.webpackChunkpersonalsite||[]).push([[809],{5809:(e,t,r)=>{r.r(t),r.d(t,{default:()=>H});var n=r(5043),s=r(6580);const o=r.p+"static/media/fan.d6e4432054907fa0970f2c3645f6cec3.svg";var a=r(9379);const c=.003,l=.017,i=.03,u=.01,p=Math.PI/4,d=180/Math.PI,h=Math.PI/180,f=e=>e*h,m=1/(.9*Math.PI*.86),x=Math.sqrt(i/m),g=x/(i+m*x**2),j=-Math.atan(1/g),v=Math.sqrt(.006*9.8*Math.cos(j)/(1.225*l*x)),w=x,k=i+m*x**2;function N(e,t){const{vxAir:r,vyAir:n}=function(e,t){return{vxAir:e.V*Math.cos(e.Gam)-t.vx,vyAir:e.V*Math.sin(e.Gam)-t.vy}}(e,t),s=Math.sqrt(r*r+n*n),o=Math.atan2(n,r),{lift:a,drag:i}=function(e,t,r){const n=.6125*e**2;return{lift:n*l*t,drag:n*l*r}}(s,w,k),{fx:p,fy:d}=function(e,t,r){return{fx:-t*Math.cos(r)-e*Math.sin(r),fy:-t*Math.sin(r)+e*Math.cos(r)-9.8*c}}(a,i,o),h=p/c,f=d/c,{vxGround:m,vyGround:x}=function(e,t,r){return{vxGround:e.V*Math.cos(e.Gam)+t*u,vyGround:e.V*Math.sin(e.Gam)+r*u}}(e,h,f);!function(e,t,r){e.V=Math.sqrt(t*t+r*r),e.Gam=Math.atan2(r,t),e.H+=r*u,e.Range+=t*u}(e,m,x)}var y=r(579);const M=100,b="-50%",R="32px",C=e=>{let{startPosition:t,onComplete:r,direction:s="right",gustState:o}=e;const[c,l]=(0,n.useState)(null),i=(0,n.useRef)(null),u=(0,n.useRef)(null),h=(0,n.useRef)(0),m=(0,n.useRef)(null),x=(0,n.useRef)(!1),g=(0,n.useRef)({vx:0,vy:0}),j=(0,n.useRef)(null);function w(e,t,r,n,s,o){const a=function(e,t,r){const n="left"===r?-1:1;return t.x+100*e.Range*n}(t,r,n),c=function(e,t,r){return t.y+100*(r-e.H)}(t,r,s),l=function(e,t,r){if(Math.abs(t-e.sourceX)>e.radius)return null;const n=r-e.sourceY;if(n>=0)return null;const s=e.referenceDistance||800,o=1/(1+Math.abs(n)/s);return{vx:0,vy:e.strength*o*3}}(e,a,c);o.current=l||{vx:0,vy:0}}if((0,n.useEffect)((()=>{u.current&&j.current&&(void 0!==(null===o||void 0===o?void 0:o.sourceX)&&void 0!==(null===o||void 0===o?void 0:o.sourceY)&&void 0!==o.radius?w(o,u.current,t,s,j.current,g):null!==o&&void 0!==o&&o.timestamp&&function(e,t,r){t.timestamp&&t.timestamp!==r.current&&(e.V*=1+.3*t.strength,e.Gam+=t.angle,r.current=t.timestamp)}(u.current,o,h))}),[o,s,t.x,t.y]),(0,n.useEffect)((()=>{if(!t)return;const e=function(){const e=.8+Math.random()*(1.2-.8);return{V:v*e,Gam:f(-15)+Math.random()*(f(10)-f(-15)),H:10+10*Math.random(),Range:0}}();u.current=(0,a.A)({},e);const n=u.current.H;j.current=n;const o=()=>{const e=u.current;if(!e)return;N(e,g.current);const r="left"===s?-1:1,{x:a,y:h,angle:f}=function(e,t,r,n,s){return{x:e.x+t.Range*n*s,y:e.y+(r-t.H)*n,angle:(p-t.Gam)*d}}(t,e,n,100,r),j=function(e,t){return e<-100||e>window.innerWidth+M||t<-100||t>window.innerHeight+M}(a,h);j?x.current||(x.current=!0,m.current=setTimeout((()=>{c()}),1e4)):(x.current=!1,m.current&&(clearTimeout(m.current),m.current=null)),l({x:a,y:h,angle:f}),i.current=requestAnimationFrame(o)},c=()=>{if(!u.current)return;const e=u.current,o="left"===s?-1:1,a=t.x+100*e.Range*o,l=t.y+100*(n-e.H);a<-100||a>window.innerWidth+M||l<-100||l>window.innerHeight+M?null===r||void 0===r||r():(x.current=!1,m.current=setTimeout((()=>{c()}),1e4))};return i.current=requestAnimationFrame(o),()=>{i.current&&cancelAnimationFrame(i.current),m.current&&clearTimeout(m.current)}}),[t,s]),!c)return null;const k="left"===s?-1:1;return(0,y.jsx)("div",{className:"paper-plane-animated",style:{position:"fixed",left:"".concat(c.x,"px"),top:"".concat(c.y,"px"),transform:"translate(".concat(b,", ").concat(b,") scaleX(").concat(k,") rotate(").concat(c.angle,"deg)"),pointerEvents:"none",zIndex:9999,transition:"none"},children:(0,y.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",className:"paper-plane-icon",style:{width:R,height:R,filter:"drop-shadow(0 2px 4px rgba(0,0,0,0.2))",fill:"currentColor"},children:(0,y.jsx)("path",{d:"M1.77,6.215A2.433,2.433,0,0,0,0,8.611a2.474,2.474,0,0,0,.771,1.71L4,13.548V20h6.448l3.265,3.267a2.4,2.4,0,0,0,1.706.713,2.438,2.438,0,0,0,.618-.08,2.4,2.4,0,0,0,1.726-1.689L24-.016ZM3.533,8.856l13.209-3.7L7,14.9V12.326Zm11.6,11.6L11.675,17H9.1l9.734-9.741Z"})})})};r(5069);const G=60,S=200;function H(){const[e,t]=(0,n.useState)([]),[r,a]=(0,n.useState)({strength:0,angle:0}),[c,l]=(0,n.useState)(!1),[i,u]=(0,n.useState)(!1),[p,d]=(0,n.useState)({x:null,y:null}),[h,f]=(0,n.useState)(!1),[m,x]=(0,n.useState)(!1),[g,j]=(0,n.useState)({x:0,y:0}),[v,w]=(0,n.useState)(!1),k=(0,n.useRef)({x:null,y:null}),N=(0,n.useRef)(null),M=(0,n.useRef)(null),b=(0,n.useRef)(!1);(0,n.useEffect)((()=>{if(!i)return;const e=setInterval((()=>{let e,t;if(N.current){const r=N.current.getBoundingClientRect();e=r.left+r.width/2,t=r.top+r.height/2}else e=null!==k.current.x?k.current.x:window.innerWidth/2,t=null!==k.current.y?k.current.y:window.innerHeight-20-G/2;a({strength:1.5,angle:0,timestamp:Date.now(),sourceX:e,sourceY:t,radius:G,referenceDistance:window.innerHeight})}),100);return()=>clearInterval(e)}),[i]);const R=(0,n.useCallback)((e=>{e.stopPropagation(),m||u((e=>!e)),x(!1)}),[m]),H=(0,n.useCallback)((e=>{e.stopPropagation(),x(!1),w(!0),b.current=!1;const t=e.currentTarget.getBoundingClientRect(),r=t.left+t.width/2,n=t.top+t.height/2;j({x:e.clientX-r,y:e.clientY-n}),M.current=setTimeout((()=>{b.current=!0,M.current=null}),S)}),[]),E=(0,n.useCallback)((e=>{if(!b.current)return;h||f(!0),x(!0);const t={x:e.clientX-g.x,y:e.clientY-g.y};d(t),k.current=t}),[h,g]),P=(0,n.useCallback)((()=>{M.current&&(clearTimeout(M.current),M.current=null),b.current=!1,w(!1),f(!1)}),[]);(0,n.useEffect)((()=>{if(v)return window.addEventListener("mousemove",E),window.addEventListener("mouseup",P),()=>{window.removeEventListener("mousemove",E),window.removeEventListener("mouseup",P)}}),[v,E,P]),(0,n.useEffect)((()=>()=>{M.current&&clearTimeout(M.current)}),[]);const A=(0,n.useCallback)((e=>{if(e.target.closest("a")||e.target.closest(".link"))return;const r={x:e.clientX,y:e.clientY},n=window.innerWidth/2,s=r.x<n?"right":"left",o={id:Date.now(),startPosition:r,direction:s};t((e=>{const t=[...e,o];return t.length>=2&&!c&&l(!0),t}))}),[c]),V=(0,n.useCallback)((e=>{t((t=>t.filter((t=>t.id!==e))))}),[]);return(0,y.jsxs)("div",{id:"app-base",className:"proj-colors paper-plane-cursor",onClick:A,children:[(0,y.jsxs)("div",{className:"content-wrapper proj-colors",children:[(0,y.jsx)("div",{className:"header-line",children:(0,y.jsx)("h2",{className:"title proj-colors",children:"projects"})}),(0,y.jsxs)("div",{className:"links proj-colors",children:[(0,y.jsxs)("a",{className:"link proj-colors",href:"https://synnefon.github.io/mapinator",rel:"noreferrer",children:[(0,y.jsx)("p",{className:"link-text proj-colors",children:"mapinator"}),(0,y.jsx)("p",{className:"tooltip-text proj-colors",children:"procedural terrain map generator"})]}),(0,y.jsxs)(s.N_,{className:"link proj-colors",to:"/game-of-life",rel:"noreferrer",children:[(0,y.jsx)("p",{className:"link-text proj-colors",children:"game of life"}),(0,y.jsx)("p",{className:"tooltip-text proj-colors",children:"cellular automata simulator"})]}),(0,y.jsxs)(s.N_,{className:"link proj-colors",to:"/shavianator",rel:"noreferrer",children:[(0,y.jsx)("p",{className:"link-text proj-colors",children:"shavian transliterator"}),(0,y.jsx)("p",{className:"tooltip-text proj-colors",children:"english \u2192 shavian"})]}),(0,y.jsxs)(s.N_,{className:"link proj-colors",to:"/snek",rel:"noreferrer",children:[(0,y.jsx)("p",{className:"link-text proj-colors",children:"snek"}),(0,y.jsx)("p",{className:"tooltip-text proj-colors",children:"snek!"})]}),(0,y.jsxs)(s.N_,{className:"link proj-colors",to:"/sudoku",rel:"noreferrer",children:[(0,y.jsx)("p",{className:"link-text proj-colors",children:"sudoku"}),(0,y.jsx)("p",{className:"tooltip-text proj-colors",children:"eternal classic"})]}),(0,y.jsxs)(s.N_,{className:"link proj-colors",to:"/shufflenator",rel:"noreferrer",children:[(0,y.jsx)("p",{className:"link-text proj-colors",children:"shufflenator"}),(0,y.jsx)("p",{className:"tooltip-text proj-colors",children:"optimal shuffle pattern calculator"})]}),(0,y.jsxs)("a",{className:"link proj-colors",href:"https://thangs.com/designer/synnefon",rel:"noreferrer",children:[(0,y.jsx)("p",{className:"link-text proj-colors",children:"3d models"}),(0,y.jsx)("p",{className:"tooltip-text proj-colors",children:"collection of my 3d-printable work"})]}),(0,y.jsxs)("a",{className:"link proj-colors",href:"https://www.npmjs.com/package/img-butler",rel:"noreferrer",children:[(0,y.jsx)("p",{className:"link-text proj-colors",children:"img-butler"}),(0,y.jsx)("p",{className:"tooltip-text proj-colors",children:"image interaction npm package"})]}),(0,y.jsxs)("a",{className:"link proj-colors",href:"https://github.com/synnefon/spagett",rel:"noreferrer",children:[(0,y.jsx)("p",{className:"link-text proj-colors",children:"spagett ql"}),(0,y.jsxs)("p",{className:"tooltip-text proj-colors",children:["lisp-like query language. al dente."," "]})]})]})]}),e.map((e=>(0,y.jsx)(C,{startPosition:e.startPosition,direction:e.direction,gustState:r,onComplete:()=>V(e.id)},e.id))),c&&(0,y.jsx)("div",{ref:N,className:"fan-container ".concat(i?"spinning":""," ").concat(h?"dragging":""),style:null!==p.x&&null!==p.y?{width:"".concat(G,"px"),height:"".concat(G,"px"),left:"".concat(p.x,"px"),top:"".concat(p.y,"px"),bottom:"auto",transform:"translate(-50%, -50%)"}:{width:"".concat(G,"px"),height:"".concat(G,"px")},onClick:R,onMouseDown:H,children:(0,y.jsx)("img",{src:o,alt:"fan",className:"fan-icon",draggable:!1})})]})}}}]);
//# sourceMappingURL=809.196bbf2d.chunk.js.map