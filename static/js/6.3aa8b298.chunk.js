"use strict";(self.webpackChunkpersonalsite=self.webpackChunkpersonalsite||[]).push([[6],{5006:(e,t,n)=>{n.r(t),n.d(t,{default:()=>s});var o=n(5043);const a=new Set(["jpeg","webp"]),c=["jpeg","jpg","png","webp"];var r=n(579);function s(){const[e,t]=(0,o.useState)("png"),[n,s]=(0,o.useState)(null),[i,l]=(0,o.useState)("converted"),[d,p]=(0,o.useState)([]);return(0,r.jsx)("div",{className:"toolbox",style:{padding:"1rem"},children:(0,r.jsxs)("div",{className:"file-conversion",children:[(0,r.jsx)("h2",{children:"convert image"}),(0,r.jsx)("input",{type:"file",accept:c.map((e=>".".concat(e))),onChange:async t=>{const n=t.target.files[0];if(!n)return;const o=n.type;l(n.name),p(function(e){return{jpeg:["png","webp"],jpg:["png","webp"],png:["jpg","webp"],webp:["png","jpg"]}[e]}(e));try{const e=await async function(e,t){if(!(e instanceof File))throw new Error("Input must be a File object");const n=URL.createObjectURL(e),o=await new Promise(((e,t)=>{const o=new Image;o.onload=()=>e(o),o.onerror=t,o.src=n})),c=document.createElement("canvas");return c.width=o.width,c.height=o.height,c.getContext("2d").drawImage(o,0,0),await new Promise((e=>c.toBlob((t=>{URL.revokeObjectURL(n),e(t)}),t,a.has(t)?.92:void 0)))}(n,o);s(e)}catch(c){console.error(c)}}}),(0,r.jsx)("div",{style:{marginBottom:"0.5rem"},children:(0,r.jsxs)("label",{children:["output format:"," ",(0,r.jsx)("select",{value:e,onChange:e=>t(e.target.value),children:d.map((e=>(0,r.jsx)("option",{value:"".concat(e),children:"".concat(e)},e)))})]})}),n&&(0,r.jsx)("div",{style:{marginTop:"1rem"},children:(0,r.jsx)("button",{className:"download-file-button",onClick:()=>{if(!n)return;const t=URL.createObjectURL(n),o=document.createElement("a");o.href=t,o.download="".concat(i,".").concat(e),document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL(t)},children:"Download"})})]})})}}}]);
//# sourceMappingURL=6.3aa8b298.chunk.js.map