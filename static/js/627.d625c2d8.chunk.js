"use strict";(self.webpackChunkpersonalsite=self.webpackChunkpersonalsite||[]).push([[627],{9782:(e,t,s)=>{s.r(t),s.d(t,{default:()=>g});var r=s(9379),a=s(5043),l=s(1284),o=s.n(l),n=s(4672);function u(e){const t=e.length,s=[];for(let r=0;r<t;r++){let a=e[(r+1)%t]-e[r];a<0&&(a+=t),s.push(a)}return s}const c=["SHANNON_ENTROPY","NEIGHBOR_DIST","LOCATION_DELTA"],i={SHANNON_ENTROPY:function(e){const t=u(e),s={};for(const r of t)s[r]=(s[r]||0)+1;return Object.values(s).map((t=>t/e.length)).map((e=>Math.abs(Math.log(e)*e))).filter((e=>e>0)).reduce(((e,t)=>e+t),0)},NEIGHBOR_DIST:function(e){return u(e).reduce(((e,t)=>e+t),0)/e.length},LOCATION_DELTA:function(e){let t=0;for(let s=0;s<e.length;s++){t+=Math.abs(s-e[s])}return t/e.length}};class f{constructor(e,t,s){this.cardList=e,this.permutation=t,this.scoreType=s,this.score=i[s](e)}equals(e){return e instanceof f&&this.cardList===e.cardList}hash(){return this.cardList.join(",")}print(){console.log(this.permutation,":",this.score)}}function h(e,t,s){const r=Array.from({length:s},(()=>[]));for(let o=0;o<t.cardList.length;o++){r[e(o)].unshift(t.cardList[o])}return a=t,new f((l=r).flat(),[...a.permutation,l.length],a.scoreType);var a,l}const m=["PILE","RANDOM_PILE"],d={PILE:function(e,t){return h((e=>e%t),e,t)},RANDOM_PILE:function(e,t){return h((()=>Math.floor(Math.random()*t)),e,t)}};function x(e,t,s){const r=[];for(const a of e)for(const e of t){const t=s(a,e);r.push(t)}return r}const N=async e=>{let{shuffleStrat:t,scoreType:s,maxShuffles:r,deckSize:a,minNumPiles:l,maxNumPiles:o}=e;const n=Array.from({length:o-l+1},((e,t)=>t+l)),u=Array.from({length:a},((e,t)=>t)),c=d[t];let i=[new f(u,[],s)],h=null;for(let f=0;f<r;f++){const e=x(i,n,c);i=[...new Set([...i,...e])],i.sort(((e,t)=>t.score-e.score)),h=i[0]}return h};var v=s(579);const p={control:(e,t)=>{let{isFocused:s}=t;return(0,r.A)((0,r.A)({},e),{},{backgroundColor:"var(--alt-bg-color)",borderColor:s?"var(--text-color)":"var(--tertiary)",cursor:"var(--pointer)"})},singleValue:e=>(0,r.A)((0,r.A)({},e),{},{color:"var(--alt-text-color)"}),option:(e,t)=>{let{isFocused:s}=t;return(0,r.A)((0,r.A)({},e),{},{cursor:"var(--pointer)",color:"var(--alt-text-color)",backgroundColor:s?"var(--text-color)":"var(--alt-bg-color)"})},menu:e=>(0,r.A)((0,r.A)({},e),{},{backgroundColor:"var(--alt-bg-color)"}),indicatorSeparator:e=>(0,r.A)((0,r.A)({},e),{},{backgroundColor:"var(--alt-text-color)"})};function g(){const e=(0,a.useRef)(),[t,s]=(0,a.useState)(5),[r,l]=(0,a.useState)(10),[u,i]=(0,a.useState)({value:3,label:3}),[f,h]=(0,a.useState)({value:"PILE",label:"PILE"}),[d,x]=(0,a.useState)({value:"SHANNON_ENTROPY",label:"SHANNON_ENTROPY"}),[g,j]=(0,a.useState)(null),b=()=>(0,v.jsxs)("div",{className:"shufflenator-selector-row",children:[(0,v.jsx)("div",{className:"shufflenator-selector-row-title",children:"cards in deck:"}),(0,v.jsx)("input",{className:"shufflenator-selector-row-number",type:"number",ref:e,defaultValue:52,step:10,min:10,max:1e3})]}),A=(0,a.useRef)((0,v.jsx)(b,{})),S=()=>(0,v.jsxs)("div",{className:"shufflenator-selector-row",children:[(0,v.jsx)("div",{className:"shufflenator-selector-row-title",children:"pile size range:"}),(0,v.jsx)(o(),{className:"shufflenator-selector-row-slider",min:2,max:20,step:1,minValue:t,maxValue:r,onChange:e=>{const r=e.minValue!==t,a=r?e.minValue:Math.max(e.minValue,e.maxValue-10),o=r?Math.min(e.maxValue,e.minValue+10):e.maxValue;s(a),l(o)},preventWheel:!0,stepOnly:!0,ruler:!1,label:!1})]}),O=e=>{let{title:t,options:s,value:r,defaultValue:a,onChange:l}=e;return s=s.map((e=>({value:e,label:e}))),(0,v.jsxs)("div",{className:"shufflenator-selector-row",children:[(0,v.jsxs)("div",{className:"shufflenator-selector-row-title",children:[t,":"]}),(0,v.jsx)(n.Ay,{value:r,defaultValue:a,options:s,onChange:l,isSearchable:!1,styles:p})]})},L=()=>(0,v.jsx)(O,{title:"max shuffles",options:[1,2,3,4,5],value:u,defaultValue:3,onChange:i}),y=()=>(0,v.jsx)(O,{title:"shuffle strategy",options:m,value:f,defaultValue:"PILE",onChange:h}),C=()=>(0,v.jsx)(O,{title:"score strategy",options:c,value:d,defaultValue:"SHANNON_ENTROPY",onChange:x}),E=async()=>{const s=await N({shuffleStrat:f.value,scoreType:d.value,maxShuffles:u.value,deckSize:e.current.value,minNumPiles:t,maxNumPiles:r});j(s)},P=()=>(0,v.jsx)("div",{onClick:E,className:"shufflenator-submit-button",children:(0,v.jsx)("div",{className:"shufflenator-submit-button-text",children:"submit"})}),V=()=>(0,v.jsx)("div",{className:"shufflenator-results",children:(0,v.jsx)("div",{children:"( ".concat(g.permutation.join(",")," )")})});return(0,v.jsxs)("div",{className:"shufflenator",children:[(0,v.jsxs)("div",{className:"shufflenator-selector",children:[A.current,(0,v.jsx)(S,{}),(0,v.jsx)(L,{}),(0,v.jsx)(y,{}),(0,v.jsx)(C,{})]}),(0,v.jsx)(P,{}),g&&(0,v.jsx)(V,{})]})}}}]);
//# sourceMappingURL=627.d625c2d8.chunk.js.map