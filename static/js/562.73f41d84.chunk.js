"use strict";(self.webpackChunkpersonalsite=self.webpackChunkpersonalsite||[]).push([[562],{2562:(e,t,a)=>{a.r(t),a.d(t,{default:()=>D});var s=a(9379),n=a(5043),r=a(5637),i=a.n(r);const o={WORD:"word",PUNCTUATION:"punctuation",WHITESPACE:"whitespace",NEWLINE:"newline"},l={"\ud801\udc5e":"the","\ud801\udc5d":"of","\ud801\udc6f":"and","\ud801\udc51":"to","\ud801\udc69":"a"},c={"\xb7":"","\ud801\udc50":"P","\ud801\udc5a":"B","\ud801\udc51":"T","\ud801\udc5b":"D","\ud801\udc52":"K","\ud801\udc5c":"G","\ud801\udc53":"F","\ud801\udc5d":"V","\ud801\udc54":"TH","\ud801\udc5e":"DH","\ud801\udc55":"S","\ud801\udc5f":"Z","\ud801\udc56":"SH","\ud801\udc60":"ZH","\ud801\udc57":"CH","\ud801\udc61":"JH","\ud801\udc63":"HH","\ud801\udc62":"W","\ud801\udc58":"Y","\ud801\udc6e":"R","\ud801\udc64":"L","\ud801\udc65":"M","\ud801\udc6f":"N","\ud801\udc59":"NG","\ud801\udc70":"IY","\ud801\udc66":"IH","\ud801\udc71":"EY","\ud801\udc67":"EH","\ud801\udc68":"AE","\ud801\udc6d":"AA","\ud801\udc77":"AO","\ud801\udc74":"OW","\ud801\udc6b":"UH","\ud801\udc75":"UW","\ud801\udc73":"AH","\ud801\udc69":"AX","\ud801\udc72":"AY","\ud801\udc6c":"AW","\ud801\udc76":"OY","\ud801\udc7b":"ER","\ud801\udc78":"AA+R","\ud801\udc79":"AO+R","\ud801\udc7a":"EH+R","\ud801\udc7d":"IH+R","\ud801\udc7c":"AX+R","\ud801\udc7e":"IY+AX","\ud801\udc7f":"Y+UW"},u=Object.fromEntries(Object.entries(c).map((e=>{let[t,a]=e;return[a,t]}))),h=e=>{const t=e.replace(/(?:[\0-\uD7FF\uE000-\uFFFF]|[\uD800\uD802-\uDBFF][\uDC00-\uDFFF]|\uD801[\uDC00-\uDC4F\uDC80-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/g,""),a=[...t],s=a.map((e=>{var t;return null!==(t=c[e])&&void 0!==t?t:e})).join(" ");return 1===a.length&&l[t]?"".concat(s," (").concat(l[t],")"):s},p=(e,t)=>e.replace(/["\u201C\u201D]/g,(()=>{const e=t.isOpen?"\xab":"\xbb";return t.isOpen=!t.isOpen,e})),d=(e,t)=>({type:o.PUNCTUATION,english:e,shavian:p(e,t),index:null});function v(e,t,a){const s=[];if(/^\s+$/.test(e))return s.push((n=e,{type:o.WHITESPACE,english:n,shavian:n,index:null})),s;var n;const r=e.match(/^([^\w]*)(\w[\w'\u2019'-]*\w|\w)?([^\w]*)$/);if(!r||!r[2])return s.push(d(e,t)),s;const[,l,c,h]=r;return l&&s.push(d(l,t)),s.push(((e,t)=>({type:o.WORD,english:e,shavian:"a"===e.toLowerCase()?u.AX:i()(e),index:t}))(c,a.value++)),h&&s.push(d(h,t)),s}const F=e=>{const t=e.split("\n"),a={isOpen:!0};let s=[],n=0;return t.forEach(((e,t)=>{t>0&&s.push({type:o.NEWLINE,english:"\n",shavian:"\n",index:null});const r=function(e,t){const a=[];let s={value:arguments.length>2&&void 0!==arguments[2]?arguments[2]:0};for(const n of e.split(/(\s+)/)){if(!n)continue;const e=v(n,t,s);a.push(...e)}return{tokens:a,wordCount:s.value}}(e,a,n);s=s.concat(r.tokens),n=r.wordCount})),s};var x=a(579);function D(){const[e,t]=(0,n.useState)(""),[a,r]=(0,n.useState)(!1),[i,l]=(0,n.useState)(null),[c,u]=(0,n.useState)({show:!1,word:"",arpabet:"",x:0,y:0}),p=(0,n.useRef)(),d=(0,n.useRef)(),v=(0,n.useRef)(),D=(0,n.useRef)(),g=F(e);(0,n.useEffect)((()=>{const e=p.current,t=d.current,a=v.current;if(!e||!t||!a)return;const s=()=>{t.scrollTop=e.scrollTop,t.scrollLeft=e.scrollLeft,a.scrollTop=e.scrollTop/(e.scrollHeight-e.clientHeight||1)*(a.scrollHeight-a.clientHeight)},n=()=>{e.scrollTop=t.scrollTop,e.scrollLeft=t.scrollLeft,a.scrollTop=e.scrollTop/(e.scrollHeight-e.clientHeight||1)*(a.scrollHeight-a.clientHeight)},r=()=>{e.scrollTop=a.scrollTop/(a.scrollHeight-a.clientHeight||1)*(e.scrollHeight-e.clientHeight),t.scrollTop=e.scrollTop};return e.addEventListener("scroll",s),t.addEventListener("scroll",n),a.addEventListener("scroll",r),()=>{e.removeEventListener("scroll",s),t.removeEventListener("scroll",n),a.removeEventListener("scroll",r)}}),[]);(0,n.useEffect)((()=>{if(!c.show||!D.current)return;const e=D.current.getBoundingClientRect(),t=window.innerWidth;let a=c.x;e.left<10?a+=10-e.left:e.right>t-10&&(a-=e.right-(t-10)),a!==c.x&&u((e=>(0,s.A)((0,s.A)({},e),{},{x:a})))}),[c.show,c.x]);const f=()=>{l(null),u({show:!1,word:"",arpabet:"",x:0,y:0})},w=e=>g.map(((t,a)=>{const s=e?t.shavian:t.english;return t.type===o.NEWLINE?(0,x.jsx)("br",{},a):t.type!==o.WORD?(0,x.jsx)("span",{children:s},a):(0,x.jsx)("span",{className:"shavian-word".concat(i===t.index?" highlighted":""," ").concat(e?"shavian-text":"english-text"),"data-word-index":t.index,onMouseEnter:a=>((e,t,a,s)=>{var n;l(a);const r=h(t);if(![...t.replace(/(?:[\0-\uD7FF\uE000-\uFFFF]|[\uD800\uD802-\uDBFF][\uDC00-\uDFFF]|\uD801[\uDC00-\uDC4F\uDC80-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/g,"")].length||!r.split(" ").filter(Boolean).length)return;let i;i=s?e.target.getBoundingClientRect():null===(n=document.querySelector('.shavianator-output .shavian-word[data-word-index="'.concat(a,'"]')))||void 0===n?void 0:n.getBoundingClientRect(),i&&u({show:!0,word:t,arpabet:r,x:i.left+i.width/2,y:i.top})})(a,t.shavian,t.index,e),onMouseLeave:f,onClick:a=>!e&&((e,t)=>{if(!p.current)return;p.current.focus();let a=0;for(const s of g){if(s===t)break;a+=s.type===o.NEWLINE?1:s.english.length}p.current.setSelectionRange(a,a),e.stopPropagation()})(a,t),children:s},a)})),m=e=>{let{word:t,arpabet:a}=e;const s=[...t.replace(/(?:[\0-\uD7FF\uE000-\uFFFF]|[\uD800\uD802-\uDBFF][\uDC00-\uDFFF]|\uD801[\uDC00-\uDC4F\uDC80-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/g,"")],n=a.split(" ").filter(Boolean);return(0,x.jsxs)("div",{className:"shavian-tooltip-grid",children:[(0,x.jsx)("div",{className:"shavian-tooltip-row shavian-tooltip-word",children:s.map(((e,t)=>(0,x.jsx)("div",{className:"shavian-tooltip-cell shavian-text",children:e},t)))}),(0,x.jsx)("div",{className:"shavian-tooltip-row shavian-tooltip-pronunciation",children:n.map(((e,t)=>(0,x.jsx)("div",{className:"shavian-tooltip-cell",children:e},t)))})]})};return(0,x.jsx)("div",{id:"app-base",className:"shavianator-colors",children:(0,x.jsxs)("div",{className:"content-wrapper shavianator-colors",children:[(0,x.jsxs)("div",{className:"shavianator-header",children:[(0,x.jsx)("h2",{className:"title shavianator-colors",children:"shavianator"}),(0,x.jsxs)("p",{className:"shavianator-description",children:["a tool for transliterating english to"," ",(0,x.jsx)("a",{href:"https://en.wikipedia.org/wiki/Shavian_alphabet",target:"_blank",rel:"noopener noreferrer",children:"shavian"}),".",(0,x.jsx)("br",{}),(0,x.jsxs)("span",{className:"shavian-text",children:["\ud801\udc71 \ud801\udc51\ud801\udc75\ud801\udc64 \ud801\udc53\ud801\udc78 \ud801\udc51\ud801\udc6e\ud801\udc68\ud801\udc6f\ud801\udc5f\ud801\udc64\ud801\udc66\ud801\udc51\ud801\udc69\ud801\udc6e\ud801\udc71\ud801\udc51\ud801\udc66\ud801\udc59 \ud801\udc66\ud801\udc59\ud801\udc5c\ud801\udc64\ud801\udc66\ud801\udc56 \ud801\udc51"," "]}),(0,x.jsx)("a",{href:"https://en.wikipedia.org/wiki/Shavian_alphabet",target:"_blank",rel:"noopener noreferrer",className:"shavian-text",children:"\ud801\udc56\ud801\udc71\ud801\udc5d\ud801\udc70\ud801\udc69\ud801\udc6f"}),(0,x.jsx)("span",{className:"shavian-text",children:"."})]})]}),(0,x.jsxs)("div",{className:"shavianator-layout",children:[(0,x.jsxs)("div",{className:"shavianator-input-container",children:[(0,x.jsx)("label",{className:"shavianator-label",children:"english"}),(0,x.jsxs)("div",{className:"shavianator-input-wrapper",children:[(0,x.jsx)("textarea",{ref:p,className:"shavianator-input shavianator-textarea",placeholder:"Enter text to shavianate",value:e,onChange:e=>t(e.target.value),rows:5}),(0,x.jsx)("div",{ref:d,className:"shavianator-input shavianator-input-overlay",children:w(!1)})]})]}),(0,x.jsxs)("div",{className:"shavianator-output-container",children:[(0,x.jsx)("label",{className:"shavianator-label",children:"shavian"}),(0,x.jsxs)("div",{className:"shavianator-output",ref:v,children:[(0,x.jsx)("button",{className:"copy-button",onClick:()=>{navigator.clipboard.writeText(g.map((e=>e.shavian)).join("")),r(!0),setTimeout((()=>r(!1)),2e3)},title:a?"Copied!":"Copy to clipboard",children:(0,x.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:a?(0,x.jsx)("path",{d:"M20 6L9 17l-5-5"}):(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("rect",{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2"}),(0,x.jsx)("path",{d:"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"})]})})}),w(!0),c.show&&(0,x.jsx)("div",{ref:D,className:"shavian-tooltip",style:{position:"fixed",left:"".concat(c.x,"px"),top:"".concat(c.y,"px"),transform:"translate(-50%, -100%)",marginTop:"-8px"},children:(0,x.jsx)(m,{word:c.word,arpabet:c.arpabet})})]})]})]})]})})}}}]);
//# sourceMappingURL=562.73f41d84.chunk.js.map