(()=>{function t(t){const e=t.length,n=[];for(let r=0;r<e;r++){let o=t[(r+1)%e]-t[r];o<0&&(o+=e),n.push(o)}return n}const e={SHANNON_ENTROPY:function(e){const n=t(e),r={};for(const t of n)r[t]=(r[t]||0)+1;return Object.values(r).map((t=>t/e.length)).map((t=>Math.abs(Math.log(t)*t))).filter((t=>t>0)).reduce(((t,e)=>t+e),0)},NEIGHBOR_DIST:function(e){return t(e).reduce(((t,e)=>t+e),0)/e.length},LOCATION_DELTA:function(t){let e=0;for(let n=0;n<t.length;n++)e+=Math.abs(n-t[n]);return e/t.length}};function n(t,n,r){return{cardList:t,permutation:n,score:e[r](t),key:t.join(",")}}const r={PILE:function(t,e,r){const o=t.cardList,s=o.length,l=new Array(s),a=Math.floor(s/e),c=s%e;let u=0;const f=new Array(e),h=new Array(e);for(let n=0;n<e;n++)f[n]=u,h[n]=n<c?a+1:a,u+=h[n];const i=new Array(e);for(let n=0;n<e;n++)i[n]=f[n]+h[n]-1;for(let n=0;n<s;n++){const t=n%e;l[i[t]]=o[n],i[t]--}return n(l,[...t.permutation,e],r)},RANDOM_PILE:function(t,e,r){return function(t,e,r,o){const s=Array.from({length:r},(()=>[]));for(let n=0;n<e.cardList.length;n++)s[t(n)].unshift(e.cardList[n]);return n(s.flat(),[...e.permutation,r],o)}((()=>Math.floor(Math.random()*e)),t,e,r)}},o=self;o.onmessage=t=>{const{shuffleStrat:e,scoreType:s,maxShuffles:l,deckSize:a,minNumPiles:c,maxNumPiles:u}=t.data,f=Array.from({length:u-c+1},((t,e)=>e+c)),h=r[e],i=new Set,g=n(Array.from({length:a},((t,e)=>e)),[],s);i.add(g.key);let p=[g],d=null;for(let n=0;n<l;n++){const t=p.length*f.length,e=[];for(let r=0;r<p.length;r++){const l=p[r];for(const t of f){const n=h(l,t,s);i.has(n.key)||(i.add(n.key),e.push(n),(!d||n.score>d.score)&&(d=n))}r%50===0&&o.postMessage({type:"progress",completed:(r+1)*f.length,total:t,round:n+1})}for(const n of p)delete n.key;p=e,o.postMessage({type:"progress",completed:t,total:t,round:n+1})}o.postMessage({type:"result",data:d?{permutation:d.permutation,score:d.score}:null})}})();
//# sourceMappingURL=663.112c3fb9.chunk.js.map