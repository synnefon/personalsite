"use strict";(self.webpackChunkpersonalsite=self.webpackChunkpersonalsite||[]).push([[627],{9782:(e,t,s)=>{s.r(t),s.d(t,{default:()=>g});var l=s(9379),r=s(5043),a=s(1284),o=s.n(a),n=s(4672);function i(e){const t=e.length,s=[];for(let l=0;l<t;l++){let r=e[(l+1)%t]-e[l];r<0&&(r+=t),s.push(r)}return s}const u=["SHANNON_ENTROPY","NEIGHBOR_DIST","LOCATION_DELTA"],c={SHANNON_ENTROPY:function(e){const t=i(e),s={};for(const l of t)s[l]=(s[l]||0)+1;return Object.values(s).map((t=>t/e.length)).map((e=>Math.abs(Math.log(e)*e))).filter((e=>e>0)).reduce(((e,t)=>e+t),0)},NEIGHBOR_DIST:function(e){return i(e).reduce(((e,t)=>e+t),0)/e.length},LOCATION_DELTA:function(e){let t=0;for(let s=0;s<e.length;s++){t+=Math.abs(s-e[s])}return t/e.length}};class h{constructor(e,t,s){this.cardList=e,this.permutation=t,this.scoreType=s,this.score=c[s](e)}equals(e){return e instanceof h&&this.cardList===e.cardList}hash(){return this.cardList.join(",")}print(){console.log(this.permutation,":",this.score)}}function f(e,t,s){const l=Array.from({length:s},(()=>[]));for(let o=0;o<t.cardList.length;o++){l[e(o)].unshift(t.cardList[o])}return r=t,new h((a=l).flat(),[...r.permutation,a.length],r.scoreType);var r,a}const d=["PILE","RANDOM_PILE"],m={PILE:function(e,t){return f((e=>e%t),e,t)},RANDOM_PILE:function(e,t){return f((()=>Math.floor(Math.random()*t)),e,t)}};function p(e,t,s){const l=[];for(const r of e)for(const e of t){const t=s(r,e);l.push(t)}return l}const x=async e=>{let{shuffleStrat:t,scoreType:s,maxShuffles:l,deckSize:r,minNumPiles:a,maxNumPiles:o}=e;const n=Array.from({length:o-a+1},((e,t)=>t+a)),i=Array.from({length:r},((e,t)=>t)),u=m[t];let c=[new h(i,[],s)],f=null;for(let h=0;h<l;h++){const e=p(c,n,u);c=[...new Set([...c,...e])],c.sort(((e,t)=>t.score-e.score)),f=c[0]}return f};var N=s(579);const v={control:(e,t)=>{let{isFocused:s}=t;return(0,l.A)((0,l.A)({},e),{},{backgroundColor:"var(--alt-bg-color)",borderColor:s?"var(--text-color)":"var(--tertiary)",cursor:"var(--pointer)"})},singleValue:e=>(0,l.A)((0,l.A)({},e),{},{color:"var(--alt-text-color)"}),option:(e,t)=>{let{isFocused:s,isSelected:r}=t;return(0,l.A)((0,l.A)({},e),{},{cursor:"var(--pointer)",color:r?"var(--bg-color)":"var(--alt-text-color)",backgroundColor:r?"var(--tertiary)":s?"var(--text-color)":"var(--alt-bg-color)",fontWeight:r?"bold":"normal"})},menu:e=>(0,l.A)((0,l.A)({},e),{},{backgroundColor:"var(--alt-bg-color)"}),indicatorSeparator:e=>(0,l.A)((0,l.A)({},e),{},{backgroundColor:"var(--alt-text-color)"})};function g(){const e=(0,r.useRef)(),[t,s]=(0,r.useState)(5),[l,a]=(0,r.useState)(10),[i,c]=(0,r.useState)({value:3,label:3}),[h,f]=(0,r.useState)({value:"PILE",label:"PILE"}),[m,p]=(0,r.useState)({value:"SHANNON_ENTROPY",label:"SHANNON_ENTROPY"}),[g,j]=(0,r.useState)(null),[b,y]=(0,r.useState)(!1),A=()=>(0,N.jsxs)("div",{className:"shufflenator-selector-row",children:[(0,N.jsx)("div",{className:"shufflenator-selector-row-title",children:"cards in deck:"}),(0,N.jsx)("input",{className:"shufflenator-selector-row-number",type:"number",ref:e,defaultValue:52,step:10,min:10,max:1e3})]}),S=(0,r.useRef)((0,N.jsx)(A,{})),w=()=>(0,N.jsxs)("div",{className:"shufflenator-selector-row",children:[(0,N.jsx)("div",{className:"shufflenator-selector-row-title",children:"pile size range:"}),(0,N.jsx)(o(),{className:"shufflenator-selector-row-slider",min:2,max:20,step:1,minValue:t,maxValue:l,onChange:e=>{const l=e.minValue!==t,r=l?e.minValue:Math.max(e.minValue,e.maxValue-10),o=l?Math.min(e.maxValue,e.minValue+10):e.maxValue;s(r),a(o)},preventWheel:!0,stepOnly:!1,ruler:!1,label:!1})]}),k=e=>{let{title:t,options:s,value:l,defaultValue:r,onChange:a}=e;return s=s.map((e=>({value:e,label:e}))),(0,N.jsxs)("div",{className:"shufflenator-selector-row",children:[(0,N.jsxs)("div",{className:"shufflenator-selector-row-title",children:[t,":"]}),(0,N.jsx)(n.Ay,{value:l,defaultValue:r,options:s,onChange:a,isSearchable:!1,styles:v})]})},C=()=>(0,N.jsx)(k,{title:"max shuffles",options:[1,2,3,4,5],value:i,defaultValue:3,onChange:c}),O=()=>(0,N.jsx)(k,{title:"shuffle strategy",options:d,value:h,defaultValue:"PILE",onChange:f}),L=()=>(0,N.jsx)(k,{title:"score strategy",options:u,value:m,defaultValue:"SHANNON_ENTROPY",onChange:p}),P=async()=>{const s=await x({shuffleStrat:h.value,scoreType:m.value,maxShuffles:i.value,deckSize:e.current.value,minNumPiles:t,maxNumPiles:l});j(s)},E=()=>(0,N.jsx)("div",{onClick:P,className:"shufflenator-submit-button",children:(0,N.jsx)("div",{className:"shufflenator-submit-button-text",children:"submit"})}),V=()=>(0,N.jsx)("div",{className:"shufflenator-results",children:(0,N.jsx)("div",{children:"( ".concat(g.permutation.join(",")," )")})});return(0,N.jsxs)("div",{className:"shufflenator",children:[(0,N.jsxs)("div",{className:"shufflenator-header",children:[(0,N.jsx)("h1",{className:"shufflenator-title",children:"shufflenator"}),(0,N.jsx)("button",{className:"shufflenator-help-button",onClick:()=>y(!0),children:"?"})]}),b&&(0,N.jsx)("div",{className:"shufflenator-modal-overlay",onClick:()=>y(!1),children:(0,N.jsxs)("div",{className:"shufflenator-modal",onClick:e=>e.stopPropagation(),children:[(0,N.jsx)("button",{className:"shufflenator-modal-close",onClick:()=>y(!1),children:"\xd7"}),(0,N.jsxs)("div",{className:"shufflenator-explainer",children:[(0,N.jsx)("h2",{children:"how it works"}),(0,N.jsx)("p",{children:"this tool calculates the best pile shuffle pattern for thoroughly randomizing a deck of cards. pile shuffling alone doesn't randomize\u2014it performs a deterministic permutation. but the right sequence of pile shuffles can spread cards maximally before you do your riffle shuffles."}),(0,N.jsx)("p",{children:"configure your deck size, pile size range, and how many shuffles you want to perform. the calculator will find the permutation that maximizes entropy (randomness) given your constraints."}),(0,N.jsx)("h2",{children:"understanding the output"}),(0,N.jsxs)("p",{children:["the output shows the optimal number of piles to use for each shuffle. for example, if the output is ",(0,N.jsx)("code",{children:"(8,8,10)"}),", it means: do a pile shuffle into 8 piles, collect and shuffle into 8 piles again, then collect and shuffle into 10 piles."]}),(0,N.jsx)("p",{children:"this sequence spreads your cards maximally throughout the deck before you finish with your riffle shuffles."})]})]})}),(0,N.jsxs)("div",{className:"shufflenator-selector",children:[S.current,(0,N.jsx)(w,{}),(0,N.jsx)(C,{}),(0,N.jsx)(O,{}),(0,N.jsx)(L,{})]}),(0,N.jsx)(E,{}),g&&(0,N.jsx)(V,{})]})}}}]);
//# sourceMappingURL=627.8a42d2b4.chunk.js.map