"use strict";(self.webpackChunkpersonalsite=self.webpackChunkpersonalsite||[]).push([[809],{5809:(e,t,r)=>{r.r(t),r.d(t,{default:()=>f});var n=r(5043),s=r(6580);const o=r.p+"static/media/fan.d6e4432054907fa0970f2c3645f6cec3.svg";var a=r(9379);const l=1/(.9*Math.PI*.86),c=Math.sqrt(.02/l),i=c/(.02+l*c**2),u=-Math.atan(1/i),p=Math.sqrt(.006*9.8*Math.cos(u)/(1.225*.017*c));var h=r(579);const m=e=>{let{startPosition:t,onComplete:r,scenario:s="equilibrium",direction:o="right",gustState:l}=e;const[c,i]=(0,n.useState)(null),m=(0,n.useRef)(null),d=(0,n.useRef)(null),x=(0,n.useRef)(0),f=(0,n.useRef)(null),g=(0,n.useRef)(!1),j=(0,n.useRef)({vx:0,vy:0});function v(e,t,r,n,s){const o=function(e,t,r){const n="left"===r?-1:1;return t.x+100*e.Range*n}(t,r,n),a=function(e,t){const r=Math.abs(t-e.sourceX);if(r>e.radius)return null;const n=1/(1+4*r/(e.referenceDistance||800));return{vx:0,vy:e.strength*n*3}}(e,o);s.current=a||{vx:0,vy:0}}if((0,n.useEffect)((()=>{d.current&&(void 0!==(null===l||void 0===l?void 0:l.sourceX)&&void 0!==l.radius?v(l,d.current,t,o,j):null!==l&&void 0!==l&&l.timestamp&&function(e,t,r){t.timestamp&&t.timestamp!==r.current&&(e.V*=1+.3*t.strength,e.Gam+=t.angle,r.current=t.timestamp)}(d.current,l,x))}),[l,o,t.x]),(0,n.useEffect)((()=>{if(!t)return;const e=function(){var e;const t={equilibrium:{V:p,Gam:u,H:15,Range:0},"zero-angle":{V:p,Gam:0,H:15,Range:0},fast:{V:1.5*p,Gam:u,H:15,Range:0},"very-fast":{V:3*p,Gam:u,H:15,Range:0}};return null!==(e=t[arguments.length>0&&void 0!==arguments[0]?arguments[0]:"equilibrium"])&&void 0!==e?e:t.equilibrium}(s);d.current=(0,a.A)({},e);const n=.003,l=1/(.9*Math.PI*.86),c=Math.sqrt(.02/l),h=.02+l*c**2,x=d.current.H;const v=()=>{const e=d.current;if(!e)return;const r=j.current,{Vx:s,Vy:a}=function(e,t){return{Vx:e.V*Math.cos(e.Gam)-t.vx,Vy:e.V*Math.sin(e.Gam)-t.vy}}(e,r),l=Math.sqrt(s*s+a*a),u=Math.atan2(a,s),{L:p,D:k}=function(e,t,r){const n=.6125*e**2;return{L:.017*n*t,D:.017*n*r}}(l,c,h),{Fx:N,Fy:y}=function(e,t,r,n,s){return{Fx:-t*Math.cos(r)-e*Math.sin(r),Fy:-t*Math.sin(r)+e*Math.cos(r)-n*s}}(p,k,u,n,9.8),M=N/n,b=y/n,{Vx_ground:V,Vy_ground:R}=function(e,t,r,n){return{Vx_ground:e.V*Math.cos(e.Gam)+t*n,Vy_ground:e.V*Math.sin(e.Gam)+r*n}}(e,M,b,.01);!function(e,t,r,n){e.V=Math.sqrt(t*t+r*r),e.Gam=Math.atan2(r,t),e.H+=r*n,e.Range+=t*n}(e,V,R,.01);const q="left"===o?-1:1,{x:C,y:H,angle:S}=function(e,t,r,n,s){return{x:e.x+t.Range*n*s,y:e.y+(r-t.H)*n,angle:(Math.PI/4-t.Gam)*(180/Math.PI)}}(t,e,x,100,q),G=function(e,t){return e<-100||e>window.innerWidth+100||t<-100||t>window.innerHeight+100}(C,H);G?g.current||(g.current=!0,f.current=setTimeout((()=>{w()}),1e4)):(g.current=!1,f.current&&(clearTimeout(f.current),f.current=null)),i({x:C,y:H,angle:S}),m.current=requestAnimationFrame(v)},w=()=>{if(!d.current)return;const e=d.current,n="left"===o?-1:1,s=t.x+100*e.Range*n,a=t.y+100*(x-e.H);s<-100||s>window.innerWidth+100||a<-100||a>window.innerHeight+100?null===r||void 0===r||r():(g.current=!1,f.current=setTimeout((()=>{w()}),1e4))};return m.current=requestAnimationFrame(v),()=>{m.current&&cancelAnimationFrame(m.current),f.current&&clearTimeout(f.current)}}),[t,s,o]),!c)return null;const w="left"===o?-1:1;return(0,h.jsx)("div",{className:"paper-plane-animated",style:{position:"fixed",left:"".concat(c.x,"px"),top:"".concat(c.y,"px"),transform:"translate(-50%, -50%) scaleX(".concat(w,") rotate(").concat(c.angle,"deg)"),pointerEvents:"none",zIndex:9999,transition:"none"},children:(0,h.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",className:"paper-plane-icon",style:{width:"32px",height:"32px",filter:"drop-shadow(0 2px 4px rgba(0,0,0,0.2))",fill:"currentColor"},children:(0,h.jsx)("path",{d:"M1.77,6.215A2.433,2.433,0,0,0,0,8.611a2.474,2.474,0,0,0,.771,1.71L4,13.548V20h6.448l3.265,3.267a2.4,2.4,0,0,0,1.706.713,2.438,2.438,0,0,0,.618-.08,2.4,2.4,0,0,0,1.726-1.689L24-.016ZM3.533,8.856l13.209-3.7L7,14.9V12.326Zm11.6,11.6L11.675,17H9.1l9.734-9.741Z"})})})};r(5069);const d=60,x=200;function f(){const[e,t]=(0,n.useState)([]),[r,a]=(0,n.useState)({strength:0,angle:0}),[l,c]=(0,n.useState)(!1),[i,u]=(0,n.useState)(!1),[p,f]=(0,n.useState)({x:null,y:null}),[g,j]=(0,n.useState)(!1),[v,w]=(0,n.useState)(!1),[k,N]=(0,n.useState)({x:0,y:0}),[y,M]=(0,n.useState)(!1),b=(0,n.useRef)({x:null,y:null}),V=(0,n.useRef)(null),R=(0,n.useRef)(!1);(0,n.useEffect)((()=>{if(!i)return;const e=setInterval((()=>{const e=null!==b.current.x?b.current.x:window.innerWidth/2;a({strength:1.5,angle:0,timestamp:Date.now(),sourceX:e,radius:d,referenceDistance:window.innerHeight})}),100);return()=>clearInterval(e)}),[i]);const q=(0,n.useCallback)((e=>{e.stopPropagation(),v||u((e=>!e)),w(!1)}),[v]),C=(0,n.useCallback)((e=>{e.stopPropagation(),w(!1),M(!0),R.current=!1;const t=e.currentTarget.getBoundingClientRect(),r=t.left+t.width/2,n=t.top+t.height/2;N({x:e.clientX-r,y:e.clientY-n}),V.current=setTimeout((()=>{R.current=!0,V.current=null}),x)}),[]),H=(0,n.useCallback)((e=>{if(!R.current)return;g||j(!0),w(!0);const t={x:e.clientX-k.x,y:e.clientY-k.y};f(t),b.current=t}),[g,k]),S=(0,n.useCallback)((()=>{V.current&&(clearTimeout(V.current),V.current=null),R.current=!1,M(!1),j(!1)}),[]);(0,n.useEffect)((()=>{if(y)return window.addEventListener("mousemove",H),window.addEventListener("mouseup",S),()=>{window.removeEventListener("mousemove",H),window.removeEventListener("mouseup",S)}}),[y,H,S]),(0,n.useEffect)((()=>()=>{V.current&&clearTimeout(V.current)}),[]);const G=(0,n.useCallback)((e=>{if(e.target.closest("a")||e.target.closest(".link"))return;const r={x:e.clientX,y:e.clientY},n=window.innerWidth/2,s=r.x<n?"right":"left",o=["equilibrium","zero-angle","fast"],a=o[Math.floor(Math.random()*o.length)],i={id:Date.now(),startPosition:r,scenario:a,direction:s};t((e=>{const t=[...e,i];return t.length>=2&&!l&&c(!0),t}))}),[l]),E=(0,n.useCallback)((e=>{t((t=>t.filter((t=>t.id!==e))))}),[]);return(0,h.jsxs)("div",{id:"app-base",className:"proj-colors paper-plane-cursor",onClick:G,children:[(0,h.jsxs)("div",{className:"content-wrapper proj-colors",children:[(0,h.jsx)("div",{className:"header-line",children:(0,h.jsx)("h2",{className:"title proj-colors",children:"projects"})}),(0,h.jsxs)("div",{className:"links proj-colors",children:[(0,h.jsxs)("a",{className:"link proj-colors",href:"https://synnefon.github.io/mapinator",rel:"noreferrer",children:[(0,h.jsx)("p",{className:"link-text proj-colors",children:"mapinator"}),(0,h.jsx)("p",{className:"tooltip-text proj-colors",children:"procedural terrain map generator"})]}),(0,h.jsxs)(s.N_,{className:"link proj-colors",to:"/game-of-life",rel:"noreferrer",children:[(0,h.jsx)("p",{className:"link-text proj-colors",children:"game of life"}),(0,h.jsx)("p",{className:"tooltip-text proj-colors",children:"cellular automata simulator"})]}),(0,h.jsxs)(s.N_,{className:"link proj-colors",to:"/shavianator",rel:"noreferrer",children:[(0,h.jsx)("p",{className:"link-text proj-colors",children:"shavian transliterator"}),(0,h.jsx)("p",{className:"tooltip-text proj-colors",children:"english \u2192 shavian"})]}),(0,h.jsxs)(s.N_,{className:"link proj-colors",to:"/snek",rel:"noreferrer",children:[(0,h.jsx)("p",{className:"link-text proj-colors",children:"snek"}),(0,h.jsx)("p",{className:"tooltip-text proj-colors",children:"snek!"})]}),(0,h.jsxs)(s.N_,{className:"link proj-colors",to:"/sudoku",rel:"noreferrer",children:[(0,h.jsx)("p",{className:"link-text proj-colors",children:"sudoku"}),(0,h.jsx)("p",{className:"tooltip-text proj-colors",children:"eternal classic"})]}),(0,h.jsxs)(s.N_,{className:"link proj-colors",to:"/shufflenator",rel:"noreferrer",children:[(0,h.jsx)("p",{className:"link-text proj-colors",children:"shufflenator"}),(0,h.jsx)("p",{className:"tooltip-text proj-colors",children:"optimal shuffle pattern calculator"})]}),(0,h.jsxs)("a",{className:"link proj-colors",href:"https://thangs.com/designer/synnefon",rel:"noreferrer",children:[(0,h.jsx)("p",{className:"link-text proj-colors",children:"3d models"}),(0,h.jsx)("p",{className:"tooltip-text proj-colors",children:"collection of my 3d-printable work"})]}),(0,h.jsxs)("a",{className:"link proj-colors",href:"https://www.npmjs.com/package/img-butler",rel:"noreferrer",children:[(0,h.jsx)("p",{className:"link-text proj-colors",children:"img-butler"}),(0,h.jsx)("p",{className:"tooltip-text proj-colors",children:"image interaction npm package"})]}),(0,h.jsxs)("a",{className:"link proj-colors",href:"https://github.com/synnefon/spagett",rel:"noreferrer",children:[(0,h.jsx)("p",{className:"link-text proj-colors",children:"spagett ql"}),(0,h.jsxs)("p",{className:"tooltip-text proj-colors",children:["lisp-like query language. al dente."," "]})]})]})]}),e.map((e=>(0,h.jsx)(m,{startPosition:e.startPosition,scenario:e.scenario,direction:e.direction,gustState:r,onComplete:()=>E(e.id)},e.id))),l&&(0,h.jsx)("div",{className:"fan-container ".concat(i?"spinning":""," ").concat(g?"dragging":""),style:null!==p.x&&null!==p.y?{width:"".concat(d,"px"),height:"".concat(d,"px"),left:"".concat(p.x,"px"),top:"".concat(p.y,"px"),bottom:"auto",transform:"translate(-50%, -50%)"}:{width:"".concat(d,"px"),height:"".concat(d,"px")},onClick:q,onMouseDown:C,children:(0,h.jsx)("img",{src:o,alt:"fan",className:"fan-icon",draggable:!1})})]})}}}]);
//# sourceMappingURL=809.d721e1a7.chunk.js.map