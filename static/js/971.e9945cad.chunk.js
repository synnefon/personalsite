"use strict";(self.webpackChunkpersonalsite=self.webpackChunkpersonalsite||[]).push([[971],{7542:(e,s,l)=>{l.r(s),l.d(s,{default:()=>i});var a=l(9379),r=l(1284),t=l.n(r),o=l(5043),n=l(4672);var u=l(579);const c={control:(e,s)=>{let{isFocused:l}=s;return(0,a.A)((0,a.A)({},e),{},{backgroundColor:"var(--alt-bg-color)",borderColor:l?"var(--text-color)":"var(--tertiary)",cursor:"var(--pointer)"})},singleValue:e=>(0,a.A)((0,a.A)({},e),{},{color:"var(--alt-text-color)"}),option:(e,s)=>{let{isFocused:l,isSelected:r}=s;return(0,a.A)((0,a.A)({},e),{},{cursor:"var(--pointer)",color:r?"var(--bg-color)":"var(--alt-text-color)",backgroundColor:r?"var(--tertiary)":l?"var(--text-color)":"var(--alt-bg-color)",fontWeight:r?"bold":"normal"})},menu:e=>(0,a.A)((0,a.A)({},e),{},{backgroundColor:"var(--alt-bg-color)"}),indicatorSeparator:e=>(0,a.A)((0,a.A)({},e),{},{backgroundColor:"var(--alt-text-color)"})};function i(){const e=(0,o.useRef)(),s=(0,o.useRef)(null);(0,o.useEffect)((()=>()=>{var e;null===(e=s.current)||void 0===e||e.terminate(),clearTimeout(S.current)}),[]);const[a,r]=(0,o.useState)(5),[i,d]=(0,o.useState)(10),[f,h]=(0,o.useState)({value:3,label:3}),[m]=(0,o.useState)({value:"PILE",label:"PILE"}),[p,v]=(0,o.useState)({value:"SHANNON_ENTROPY",label:"SHANNON_ENTROPY"}),[x,b]=(0,o.useState)(null),[N,j]=(0,o.useState)(!1),[g,y]=(0,o.useState)(!1),[k,w]=(0,o.useState)([]),S=(0,o.useRef)(null),[C,A]=(0,o.useState)(!1),V=()=>(0,u.jsxs)("div",{className:"shufflenator-selector-row",children:[(0,u.jsx)("div",{className:"shufflenator-selector-row-title",children:"cards in deck:"}),(0,u.jsx)("input",{className:"shufflenator-selector-row-number",type:"number",ref:e,defaultValue:100,step:10,min:10,max:1e3})]}),z=(0,o.useRef)((0,u.jsx)(V,{})),P=e=>{let{title:s,options:l,value:a,defaultValue:r,onChange:t}=e;return l=l.map((e=>({value:e,label:e}))),(0,u.jsxs)("div",{className:"shufflenator-selector-row",children:[(0,u.jsxs)("div",{className:"shufflenator-selector-row-title",children:[s,":"]}),(0,u.jsx)(n.Ay,{value:a,defaultValue:r,options:l,onChange:t,isSearchable:!1,styles:c})]})},R=()=>(0,u.jsx)(P,{title:"max rounds",options:[1,2,3,4,5,6,7],value:f,defaultValue:3,onChange:h}),T=()=>(0,u.jsxs)("div",{className:"shufflenator-results",children:[(0,u.jsx)("span",{className:"shufflenator-results-number",children:"optimal sequence:"}),x.permutation.map(((e,s)=>(0,u.jsxs)("div",{children:["\xa0\xa0",s+1,". cyclically deal into"," ",(0,u.jsx)("span",{className:"shufflenator-results-number",children:e})," piles."]},s))),(0,u.jsx)("br",{}),(0,u.jsx)("div",{className:"shufflenator-results-note",children:"* after each step, reassemble piles in order."})]});return(0,u.jsxs)("div",{className:"shufflenator",children:[(0,u.jsxs)("div",{className:"shufflenator-header",children:[(0,u.jsx)("h1",{className:"shufflenator-title",children:"shufflenator"}),(0,u.jsx)("button",{className:"shufflenator-help-button",onClick:()=>A(!0),children:"?"})]}),C&&(0,u.jsx)("div",{className:"shufflenator-modal-overlay",onClick:()=>A(!1),children:(0,u.jsxs)("div",{className:"shufflenator-modal",onClick:e=>e.stopPropagation(),children:[(0,u.jsx)("button",{className:"shufflenator-modal-close",onClick:()=>A(!1),children:"\xd7"}),(0,u.jsxs)("div",{className:"shufflenator-explainer",children:[(0,u.jsx)("h2",{children:"how it works"}),(0,u.jsx)("p",{children:"this tool calculates the best pile shuffle pattern for thoroughly randomizing a deck of cards. pile shuffling alone doesn't randomize\u2014it performs a deterministic permutation. but the right sequence of pile shuffles can spread cards maximally before you do your riffle shuffles."}),(0,u.jsx)("p",{children:"configure your deck size, pile size range, and how many shuffles you want to perform. the calculator will find the permutation that maximizes shannon entropy (randomness) given your constraints."})]})]})}),(0,u.jsxs)("div",{className:"shufflenator-selector",children:[z.current,(0,u.jsxs)("div",{className:"shufflenator-selector-row",children:[(0,u.jsx)("div",{className:"shufflenator-selector-row-title",children:"pile size range:"}),(0,u.jsx)(t(),{className:"shufflenator-selector-row-slider",min:2,max:20,step:1,minValue:a,maxValue:i,onChange:e=>{r(e.minValue),d(e.maxValue)},preventWheel:!0,stepOnly:!1,ruler:!1,label:!1})]}),(0,u.jsx)(R,{})]}),(0,u.jsx)("div",{onClick:N?void 0:()=>{var r;null===(r=s.current)||void 0===r||r.terminate(),clearTimeout(S.current),b(null),j(!0),y(!1);const t=f.value;w(Array.from({length:t},(()=>({completed:0,total:1})))),S.current=setTimeout((()=>y(!0)),1e3);const o=new Worker(new URL(l.p+l.u(663),l.b));s.current=o,o.postMessage({shuffleStrat:m.value,scoreType:p.value,maxShuffles:t,deckSize:Number(e.current.value),minNumPiles:a,maxNumPiles:i}),o.onmessage=e=>{const l=e.data;"progress"===l.type?w((e=>{const s=[...e];return s[l.round-1]={completed:l.completed,total:l.total},s})):(clearTimeout(S.current),b(l.data),j(!1),y(!1),w([]),s.current=null)}},className:"shufflenator-submit-button".concat(N?" disabled":""),children:(0,u.jsx)("div",{className:"shufflenator-submit-button-text",children:"submit"})}),g&&(0,u.jsx)("div",{className:"shufflenator-rounds",children:k.map(((e,s)=>(0,u.jsxs)("div",{className:"shufflenator-round",children:[(0,u.jsxs)("span",{className:"shufflenator-round-label",children:["round ",s+1]}),(0,u.jsx)("div",{className:"shufflenator-progress",children:(0,u.jsx)("div",{className:"shufflenator-progress-bar",style:{width:"".concat(e.completed/e.total*100,"%")}})})]},s)))}),x&&(0,u.jsx)(T,{})]})}}}]);
//# sourceMappingURL=971.e9945cad.chunk.js.map