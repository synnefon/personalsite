(()=>{const t={SHANNON_ENTROPY:function(t){const e=t.length,n={};for(let r=0;r<e;r++){let o=t[(r+1)%e]-t[r];o<0&&(o+=e),n[o]=(n[o]||0)+1}let o=0;for(const r in n){const t=n[r]/e;o+=Math.abs(Math.log(t)*t)}return o},NEIGHBOR_DIST:function(t){const e=t.length;let n=0;for(let o=0;o<e;o++){let r=t[(o+1)%e]-t[o];r<0&&(r+=e),n+=r}return n/e},LOCATION_DELTA:function(t){let e=0;for(let n=0;n<t.length;n++)e+=Math.abs(n-t[n]);return e/t.length}};function e(e,n,o){return{cardList:e,permutation:n,score:t[o](e),key:n.join(",")}}const n={PILE:function(t,n,o){const r=t.cardList,s=r.length,l=new Array(s),a=Math.floor(s/n),c=s%n;let f=0;const u=new Array(n),h=new Array(n);for(let e=0;e<n;e++)u[e]=f,h[e]=e<c?a+1:a,f+=h[e];const i=new Array(n);for(let e=0;e<n;e++)i[e]=u[e]+h[e]-1;for(let e=0;e<s;e++){const t=e%n;l[i[t]]=r[e],i[t]--}return e(l,[...t.permutation,n],o)},RANDOM_PILE:function(t,n,o){return function(t,n,o,r){const s=Array.from({length:o},(()=>[]));for(let e=0;e<n.cardList.length;e++)s[t(e)].unshift(n.cardList[e]);return e(s.flat(),[...n.permutation,o],r)}((()=>Math.floor(Math.random()*n)),t,n,o)}},o=self;o.onmessage=t=>{const{shuffleStrat:r,scoreType:s,maxShuffles:l,deckSize:a,minNumPiles:c,maxNumPiles:f}=t.data,u=Array.from({length:f-c+1},((t,e)=>e+c)),h=n[r],i=new Set,g=e(Array.from({length:a},((t,e)=>e)),[],s);i.add(g.key);let d=[g],m=null;for(let e=0;e<l;e++){const t=d.length*u.length,n=[];for(let r=0;r<d.length;r++){const l=d[r];for(const t of u){const e=h(l,t,s);i.has(e.key)||(i.add(e.key),n.push(e),(!m||e.score>m.score)&&(m=e))}r%50===0&&o.postMessage({type:"progress",completed:(r+1)*u.length,total:t,round:e+1})}for(const e of d)delete e.key;d=n,o.postMessage({type:"progress",completed:t,total:t,round:e+1})}o.postMessage({type:"result",data:m?{permutation:m.permutation,score:m.score}:null})}})();
//# sourceMappingURL=663.4794b659.chunk.js.map