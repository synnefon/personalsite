"use strict";(self.webpackChunkpersonalsite=self.webpackChunkpersonalsite||[]).push([[637],{8561:(e,t,n)=>{n.r(t),n.d(t,{default:()=>Y});var a=n(5043);const r=n.p+"static/media/guitar.7c3177d2baeb887643cc.mp3",s=n.p+"static/media/click.1c87678ffc4ae6835e44.mp3";const l=n.p+"static/media/power.632cc1e66922cf3fa35d93370ea84178.svg";var c=n(7375);class o{constructor(){this.audioContext=null,this.analyser=null,this.dataArray=null,this.connected=!1}connect(e){if(this.connected)return!0;try{this.audioContext=new AudioContext,this.analyser=this.audioContext.createAnalyser(),this.analyser.fftSize=256,this.analyser.smoothingTimeConstant=.95;return this.audioContext.createMediaElementSource(e).connect(this.analyser).connect(this.audioContext.destination),this.dataArray=new Uint8Array(this.analyser.frequencyBinCount),this.connected=!0,!0}catch(t){return console.warn("[AudioAmplitude] Failed to connect analyser:",t),!1}}getAmplitude(){if(!this.analyser||!this.dataArray)return 0;try{this.analyser.getByteTimeDomainData(this.dataArray);let e=0;for(let n=0;n<this.dataArray.length;n++){const t=(this.dataArray[n]-128)/128;e+=t*t}const t=Math.sqrt(e/this.dataArray.length);return Math.min(1,3*t)}catch(e){return console.warn("[AudioAmplitude] Error reading amplitude:",e),0}}getWaveformBars(e){if(!this.analyser||!this.dataArray)return new Array(e).fill(0);try{this.analyser.getByteTimeDomainData(this.dataArray);const t=[],n=Math.floor(this.dataArray.length/e);for(let a=0;a<e;a++){const e=a*n,r=Math.abs((this.dataArray[e]-128)/128);t.push(Math.min(1,1.2*r))}return t}catch(t){return console.warn("[AudioAmplitude] Error reading waveform:",t),new Array(e).fill(0)}}resume(){this.audioContext&&"suspended"===this.audioContext.state&&this.audioContext.resume().catch((e=>{console.warn("[AudioAmplitude] Failed to resume audio context:",e)}))}disconnect(){this.audioContext&&(this.audioContext.close().catch((()=>{})),this.audioContext=null),this.analyser=null,this.dataArray=null,this.connected=!1}isConnected(){return this.connected}}var i=n(579);function u(e){let{nowPlaying:t,displayWaveform:n,expanded:r,onToggle:s}=e;const l=(0,a.useRef)(null),c=(0,a.useRef)(null),o=(0,a.useRef)(null),[u,d]=(0,a.useState)(!1),[h,m]=(0,a.useState)(!1),[v,p]=(0,a.useState)(!1);return(0,a.useEffect)((()=>{function e(e,t){if(!e.current)return;const n=e.current.querySelector(".scroll-wrapper"),a=e.current.clientWidth,r=n&&n.scrollWidth>a;if(t(!!r),r&&n){const t=n.scrollWidth/30,a=1;e.current.style.setProperty("--scroll-duration","".concat(t,"s")),e.current.style.setProperty("--second-copy-delay","".concat(a)),e.current.classList.add("overflowing")}else e.current.classList.remove("overflowing")}function t(){e(l,d),e(c,m),e(o,p)}return t(),window.addEventListener("resize",t),()=>window.removeEventListener("resize",t)}),[t,r]),t?(0,i.jsxs)("div",{className:"lava-lamp-now-playing ".concat(r?"expanded":"collapsed"),children:[(0,i.jsx)("button",{type:"button",className:"lava-lamp-now-playing-toggle",onClick:s,"aria-label":r?"Collapse now playing":"Expand now playing",children:r?">":"<"}),(0,i.jsxs)("div",{className:"lava-lamp-now-playing-content",children:[(0,i.jsxs)("div",{className:"lava-lamp-now-playing-header",children:[(0,i.jsx)("div",{className:"lava-lamp-now-playing-label",children:"kexp"}),!t.isAirbreak&&(0,i.jsx)("div",{className:"lava-lamp-soundwave",children:n.map(((e,t)=>(0,i.jsx)("div",{className:"lava-lamp-soundwave-bar",style:{"--bar-height":e}},t)))})]}),(0,i.jsxs)("div",{ref:l,className:"lava-lamp-now-playing-song",children:[(0,i.jsx)("span",{className:"scroll-wrapper",children:t.song}),u&&(0,i.jsx)("span",{className:"scroll-wrapper second",children:t.song})]}),!t.isAirbreak&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{ref:c,className:"lava-lamp-now-playing-artist",children:[(0,i.jsx)("span",{className:"scroll-wrapper",children:t.artist}),h&&(0,i.jsx)("span",{className:"scroll-wrapper second",children:t.artist})]}),(0,i.jsxs)("div",{ref:o,className:"lava-lamp-now-playing-album",children:[(0,i.jsx)("span",{className:"scroll-wrapper",children:t.album}),v&&(0,i.jsx)("span",{className:"scroll-wrapper second",children:t.album})]})]})]})]}):null}function d(e){let t=e;return"#"===t[0]&&(t=t.slice(1)),6===t.length?{r:16*h(t[0])+h(t[1]),g:16*h(t[2])+h(t[3]),b:16*h(t[4])+h(t[5])}:3===t.length?{r:17*h(t[0]),g:17*h(t[1]),b:17*h(t[2])}:{r:255,g:221,b:0}}function h(e){const t=e.charCodeAt(0);return t>=48&&t<=57?t-48:t>=65&&t<=70?t-55:t>=97&&t<=102?t-87:0}function m(e,t,n){const a=t*Math.min(n,1-n);function r(t){const r=(t+e/30)%12,s=n-a*Math.max(Math.min(r-3,9-r,1),-1);let l=Math.round(255*s);return l=l<0?0:l>255?255:l,function(e){return e<16?"0"+e.toString(16):e.toString(16)}(l)}return"#".concat(r(0)).concat(r(8)).concat(r(4))}function v(e){const{r:t,g:n,b:a}=d(e),r=.00392156862745098*t,s=.00392156862745098*n,l=.00392156862745098*a,c=r>s?r>l?r:l:s>l?s:l,o=c-(r<s?r<l?r:l:s<l?s:l);if(o<1e-6)return 0;let i;return i=c===r?(s-l)/o%6:c===s?(l-r)/o+2:(r-s)/o+4,i=Math.round(60*i),i<0&&(i+=360),i}function p(e,t){const n=d(e),a=d(t),r=new Uint32Array(256),s=n.r,l=a.r,c=n.g,o=a.g,i=n.b,u=a.b;for(let d=0;d<256;++d){const e=.00392156862745098*d,t=s+(l-s)*e+.5|0,n=c+(o-c)*e+.5|0,a=i+(u-i)*e+.5|0;r[d]=(255<<24|a<<16|n<<8|t)>>>0}return r}const f=()=>{const e=navigator.userAgent||navigator.vendor||window.opera||"",t=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(e),n="ontouchstart"in window||navigator.maxTouchPoints>0,a=window.innerWidth<=500;return t||n&&a},y=f(),w={REDWOOD:"redwood",KEXP:"kexp"},x="#ffdd00",g="#ff5500",E={GRAVITY:.01,BUOYANCY:.04,FRICTION:.98,HEAT_RATE:.005,COOL_RATE:.0017,HEAT_CONDUCTION:.002,HEAT_SOURCE_DISTANCE:45,COHESION_RADIUS:25,COHESION_STRENGTH:.0035,MOUSE_HEAT_RADIUS:100},b={PARTICLE_RADIUS:10,THRESHOLD:.8};const A={COUNT:15,RADIUS:y?30:50,TOP_HALF_PROB:.3},N=y?54e-5:61e-5,C=2e3,S={MIN:0,MAX:5,DEFAULT:.25,STEPS:10},j=1e3/60,M=5,R="lava-lamp-music-time";function T(e,t,n){return n*e.cols+t}function k(e){return e<0?0:e>1?1:e}function I(e){const t=Math.random()*Math.PI*2,n=Math.random()*e;return{x:Math.cos(t)*n,y:Math.sin(t)*n}}function O(e,t,n){e.x<0?(e.x=0,e.vx*=-.5):e.x>t&&(e.x=t,e.vx*=-.5),e.y<0?(e.y=0,e.vy*=-.5):e.y>n&&(e.y=n,e.vy*=-.5)}function L(e,t,n){for(let a=0;a<e.length;a++)O(e[a],t,n)}function D(e,t){const n=e.heat*e.heat*E.BUOYANCY;e.vy+=(E.GRAVITY-n)*t}function P(e,t){const n=Math.pow(E.FRICTION,t);e.vx*=n,e.vy*=n}function _(e,t){e.x+=e.vx*t,e.y+=e.vy*t}function U(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const r=e.x-t.x,s=e.y-t.y,l=r*r+s*s,c=E.MOUSE_HEAT_RADIUS;if(l<c*c){const t=1-Math.sqrt(l)*(1/c),r=10*E.HEAT_RATE*t*n;e.heat+=a?-r:r}}function H(e,t,n,a,r,s){const l=E.COHESION_STRENGTH*(1-r*(1/E.COHESION_RADIUS)),c=1/r,o=n*c*l*s,i=a*c*l*s;e.vx+=o,e.vy+=i,t.vx-=o,t.vy-=i}function F(e,t,n){const a=(e.heat-t.heat)*E.HEAT_CONDUCTION*n;e.heat-=a,t.heat+=a}function B(e,t,n,a){const r=t-e.y;if(r<E.HEAT_SOURCE_DISTANCE){const t=1-r*(1/E.HEAT_SOURCE_DISTANCE);return void(e.heat+=E.HEAT_RATE*t*a)}const s=1-(n<8?n:8)/8;e.heat-=E.COOL_RATE*(.2+.8*s)*a}const W=(255<<24|0<<16|0<<8|0)>>>0;function q(e,t,n,a,r,s,l){const c=Math.min(n+a,s),o=Math.min(t+a,r);for(let i=n;i<c;i++){let n=i*r+t;for(let a=t;a<o;a++)e[n++]=l}}function X(e,t,n,a,r){const s=function(e,t,n,a){const r=t.current;return r&&r.width===n&&r.height===a||(t.current=e.createImageData(n,a)),t.current}(e,a,t.width,t.height),l=function(e,t){const n=e*t,a=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:8)*Math.sqrt(n/1288920);return Math.max(4,Math.min(24,Math.round(a)))}(t.width,t.height);!function(e,t,n,a,r,s){const l=b.THRESHOLD,c=b.PARTICLE_RADIUS*b.PARTICLE_RADIUS,o=new Uint32Array(e.data.buffer);o.fill(W);const i=n,u=a;for(let d=0;d<u;d+=s)for(let e=0;e<i;e+=s){let n=0,a=0;for(let r=0;r<t.length;++r){const s=t[r],l=e-s.x,o=d-s.y,i=c/(l*l+o*o+1);n+=i,a+=i*s.heat}if(n<=l)continue;const h=a/n;q(o,e,d,s,i,u,r[h<=0?0:h>=1?255:255*h|0])}}(s,n,t.width,t.height,r,l),e.putImageData(s,0,0)}function z(e){if(e<=0)return 0;const t=S.STEPS;if(e>=t)return S.MAX;const n=e/t,a=.25/S.MAX,r=Math.log(a),s=Math.log(S.MAX);return Math.exp(function(e,t,n){return e+(t-e)*n}(r,s,n))}const K={[w.REDWOOD]:{label:"redwood meditation",url:r},[w.KEXP]:{label:"kexp",url:"https://kexp.streamguys1.com/kexp160.aac"}};function Y(){const e=f(),t=(0,a.useRef)(null),n=(0,a.useRef)(null),r=(0,a.useRef)(null),d=(0,a.useRef)([]),h=(0,a.useRef)(null),y=(0,a.useRef)(new Uint16Array(0)),b=(0,a.useRef)(null),W=(0,a.useRef)(null),q=(0,a.useRef)({w:1,h:1}),[Y,G]=(0,a.useState)(w.KEXP),V=(0,a.useMemo)((()=>{const e=new c.D(K[w.KEXP].url,!0);return e.preload="auto",e}),[]),J=(0,a.useMemo)((()=>new c.D(s,!1)),[]),[Q,Z]=(0,a.useState)(!1),$=(0,a.useRef)(!1),ee=(0,a.useRef)(!1),te=(0,a.useRef)({x:0,y:0}),ne=(0,a.useRef)(null),ae=(0,a.useRef)(Array(10).fill(0)),[re,se]=(0,a.useState)(Array(10).fill(0)),le=(0,a.useRef)(0),ce=(0,a.useMemo)((()=>function(e){if(e<=0)return 0;const t=S.STEPS-1;let n=1,a=1/0;const r=Math.log(e);for(let s=1;s<=t;s++){const e=z(s),t=Math.abs(Math.log(e)-r);t<a&&(a=t,n=s)}return n}(S.DEFAULT)),[]),[oe,ie]=(0,a.useState)(ce),ue=(0,a.useRef)(S.DEFAULT);(0,a.useEffect)((()=>{ue.current=z(oe)}),[oe]);const[de,he]=(0,a.useState)(!1),me=(0,a.useCallback)((()=>he((e=>!e))),[]),ve=(0,a.useRef)(null),[pe,fe]=(0,a.useState)(!1);(0,a.useEffect)((()=>{const e=()=>{fe(!!document.fullscreenElement),document.body.classList.toggle("lava-lamp-fullscreen",!!document.fullscreenElement);const e=t.current;if(e){const t=window.innerWidth,n=window.innerHeight;e.width=t,e.height=n,q.current={w:t,h:n},h.current=null,d.current&&L(d.current,t,n)}};return document.addEventListener("fullscreenchange",e),()=>{document.removeEventListener("fullscreenchange",e),document.body.classList.remove("lava-lamp-fullscreen")}}),[]);const ye=(0,a.useCallback)((()=>{var e,t,n,a;document.fullscreenElement?null===(e=(t=document).exitFullscreen)||void 0===e||e.call(t):null===(n=(a=document.documentElement).requestFullscreen)||void 0===n||n.call(a).catch((()=>{}))}),[]);(0,a.useEffect)((()=>{if(!de)return;const e=e=>{ve.current&&!ve.current.contains(e.target)&&he(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)}),[de]);const[we,xe]=(0,a.useState)(1);(0,a.useEffect)((()=>{V.volume=we}),[we,V]);const[ge,Ee]=(0,a.useState)(null),[be,Ae]=(0,a.useState)(!0),Ne=(0,a.useRef)(!0);(0,a.useEffect)((()=>{if(Ne.current)return void(Ne.current=!1);const e=K[Y],t=V.isPlaying();if(t&&V.pause(),V.src=e.url,V.load(),t){const e=()=>{V.play().catch((()=>{})),V.removeEventListener("canplaythrough",e)};V.addEventListener("canplaythrough",e,{once:!0})}}),[Y,V]),(0,a.useEffect)((()=>{if(!Q||Y!==w.KEXP)return void Ee(null);let e;const t=async()=>{try{var e;const t=null===(e=(await(await fetch("https://api.kexp.org/v2/plays/?limit=5")).json()).results)||void 0===e?void 0:e[0];if(!t)return;"airbreak"===t.play_type?Ee({song:"airbreak",artist:"",album:"",isAirbreak:!0}):"trackplay"===t.play_type&&Ee({song:(t.song||"unknown track").toLowerCase(),artist:(t.artist||"unknown artist").toLowerCase(),album:(t.album||"unknown album").toLowerCase(),isAirbreak:!1})}catch(t){}};return t(),e=window.setInterval(t,5e3),()=>clearInterval(e)}),[Q,Y]);const[Ce,Se]=(0,a.useState)(g),[je,Me]=(0,a.useState)(x),[Re,Te]=(0,a.useState)(!1),ke=(0,a.useRef)(p(g,x)),Ie=(0,a.useRef)(g),Oe=(0,a.useRef)(x);(0,a.useEffect)((()=>{Ie.current=Ce,Oe.current=je,ke.current=p(Ce,je)}),[Ce,je]),(0,a.useEffect)((()=>{const e=t.current;if(!e)return;const a=window.innerWidth,r=window.innerHeight;q.current={w:a,h:r},e.width=a,e.height=r,n.current=e.getContext("2d"),h.current=null}),[]);const Le=(0,a.useCallback)((()=>{const{w:e,h:t}=q.current;null===b.current&&(b.current=function(e,t){const n=e*t,a=Math.round(n*N);return Math.min(a,C)}(e,t));const n=b.current;d.current=function(e,t,n){const a=[],r=Math.floor(n/A.COUNT);for(let s=0;s<A.COUNT;s++){const n=Math.random()*e,s=Math.random()<A.TOP_HALF_PROB?Math.random()*t*.5:.5*t+Math.random()*t*.5,l=Math.random();for(let e=0;e<r;e++){const e=I(A.RADIUS);a.push({x:n+e.x,y:s+e.y,vx:0,vy:0,heat:l})}}for(;a.length<n;)a.push({x:Math.random()*e,y:Math.random()*t,vx:0,vy:0,heat:0});return a}(e,t,n),y.current=new Uint16Array(n),function(e,t,n,a,r){const s=Math.max(1,Math.ceil(t/r)),l=Math.max(1,Math.ceil(n/r)),c=s*l,o=e.current;o&&o.cols===s&&o.rows===l&&o.cellSize===r&&o.next.length===a&&o.heads.length===c||(e.current={cellSize:r,cols:s,rows:l,heads:new Int32Array(c),next:new Int32Array(a)})}(W,e,t,n,E.COHESION_RADIUS)}),[]),De=(0,a.useCallback)((()=>{var e;!function(e){try{if(!Number.isFinite(e)||e<0)return;localStorage.setItem(R,String(e))}catch(t){}}(null!==(e=V.currentTime)&&void 0!==e?e:0)}),[V]);(0,a.useEffect)((()=>{if(!Q)return;const e=window.setInterval(De,1e3),t=()=>De(),n=()=>{"hidden"===document.visibilityState&&De()};return window.addEventListener("pagehide",t),document.addEventListener("visibilitychange",n),()=>{clearInterval(e),window.removeEventListener("pagehide",t),document.removeEventListener("visibilitychange",n)}}),[Q,De]),(0,a.useEffect)((()=>()=>{var e;De(),V.pause(),V.volume=0,V.reset(),J.pause(),J.volume=0,J.reset(),null===(e=ne.current)||void 0===e||e.disconnect(),ne.current=null}),[V,J,De]);const Pe=(0,a.useCallback)((()=>{const e=W.current,{w:t,h:n}=q.current;e&&function(e,t,n,a,r,s,l,c){let o=arguments.length>8&&void 0!==arguments[8]&&arguments[8];const i=Math.max(0,Math.min(4,l));for(let m=0;m<e.length;m++){const l=e[m];D(l,i),P(l,i),_(l,i),a&&U(l,r,i,o),s[m]=0,O(l,t,n)}if(0===i){for(let t=0;t<e.length;t++)e[t].heat=k(e[t].heat);return void L(e,t,n)}c.heads.fill(-1);const u=1/c.cellSize;for(let m=0;m<e.length;m++){const t=e[m];let n=t.x*u|0,a=t.y*u|0;n<0?n=0:n>=c.cols&&(n=c.cols-1),a<0?a=0:a>=c.rows&&(a=c.rows-1);const r=T(c,n,a);c.next[m]=c.heads[r],c.heads[r]=m}const d=E.COHESION_RADIUS,h=d*d;for(let m=0;m<e.length;m++){const t=e[m];let n=t.x*u|0,a=t.y*u|0;n<0?n=0:n>=c.cols&&(n=c.cols-1),a<0?a=0:a>=c.rows&&(a=c.rows-1);const r=n>0?n-1:n,l=n+1<c.cols?n+1:n,o=a>0?a-1:a,d=a+1<c.rows?a+1:a;for(let u=o;u<=d;u++)for(let n=r;n<=l;n++){let a=c.heads[T(c,n,u)];for(;-1!==a;){if(a>m){const n=e[a],r=n.x-t.x,l=n.y-t.y,c=r*r+l*l;c>0&&c<h&&(s[m]++,s[a]++,H(t,n,r,l,Math.sqrt(c),i),F(t,n,i))}a=c.next[a]}}}for(let m=0;m<e.length;m++){const t=e[m];B(t,n,s[m],i),t.heat=k(t.heat)}L(e,t,n)}(d.current,t,n,$.current,te.current,y.current,ue.current,e,ee.current)}),[]),_e=(0,a.useCallback)((()=>{const e=t.current,a=n.current;e&&a&&X(a,e,d.current,h,ke.current)}),[]),Ue=(0,a.useRef)({last:0,acc:0}),He=(0,a.useCallback)((e=>{const t=Ue.current;t.last||(t.last=e);let n=e-t.last;t.last=e,t.acc+=Math.min(250,Math.max(0,n));let a=0;for(;t.acc>=j&&a<M;)Pe(),t.acc-=j,a++;t.acc>=j&&(t.acc=0),ne.current&&(ae.current=ne.current.getWaveformBars(10),++le.current>=5&&(se(ae.current),le.current=0)),_e(),r.current=requestAnimationFrame(He)}),[_e,Pe]),Fe=(0,a.useRef)(0),Be=(0,a.useRef)(0),We=(0,a.useRef)(!1);(0,a.useEffect)((()=>{Re&&!We.current&&(Fe.current=v(Ce),Be.current=v(je)),We.current=Re}),[Re,Ce,je]),(0,a.useEffect)((()=>{if(!Re)return;let e,t=performance.now();const n=a=>{const r=a-t;t=a;const s=ue.current,l=r/16.67;Fe.current=(Fe.current+.02*s*l)%360,Be.current=(Be.current+.02*s*l*1.3)%360,Se(m(Fe.current,1,.5)),Me(m(Be.current,1,.5)),e=requestAnimationFrame(n)};return e=requestAnimationFrame(n),()=>cancelAnimationFrame(e)}),[Re]),(0,a.useEffect)((()=>{const e=t.current;if(!e)return;const n=t=>{const n=e.getBoundingClientRect();return{x:t.clientX-n.left,y:t.clientY-n.top}},a=e=>{$.current=!0,ee.current=2===e.button||0===e.button&&e.ctrlKey,te.current=n(e)},r=e=>te.current=n(e),s=()=>{$.current=!1,ee.current=!1};return e.addEventListener("pointerdown",a),e.addEventListener("contextmenu",(e=>e.preventDefault())),window.addEventListener("pointermove",r),window.addEventListener("pointerup",s),window.addEventListener("pointercancel",s),()=>{e.removeEventListener("pointerdown",a),window.removeEventListener("pointermove",r),window.removeEventListener("pointerup",s),window.removeEventListener("pointercancel",s)}}),[]);const qe=(0,a.useCallback)((()=>{try{J.volume=1,J.currentTime=0,J.reset(),J.play()}catch(e){}}),[J]),Xe=(0,a.useCallback)((()=>{const e=function(){try{const e=localStorage.getItem(R);if(!e)return 0;const t=Number(e);return Number.isFinite(t)&&t>=0?t:0}catch(e){return 0}}();try{const t=V.duration;V.currentTime="number"===typeof t&&Number.isFinite(t)&&t>0?e%t:e}catch(t){}}),[V]),ze=(0,a.useCallback)((async()=>{var e;if(qe(),!Q&&(Z(!0),Le(),Ue.current={last:0,acc:0},requestAnimationFrame((()=>_e())),r.current=requestAnimationFrame(He),!ne.current)){const e=new o;e.connect(V)&&(ne.current=e)}if(null===(e=ne.current)||void 0===e||e.resume(),Y!==w.KEXP&&Xe(),V.volume=1,V.readyState<3){V.load();const e=async()=>{try{await V.play()}catch(t){}V.removeEventListener("canplaythrough",e)};V.addEventListener("canplaythrough",e,{once:!0})}else try{await V.play()}catch(t){}}),[He,Y,_e,V,Q,Le,qe,Xe]),Ke=S.STEPS-1,Ye=(0,a.useMemo)((()=>({w:window.innerWidth,h:window.innerHeight})),[]);return(0,i.jsxs)("div",{className:"lava-lamp-container",children:[(0,i.jsx)("canvas",{ref:t,className:"lava-lamp-canvas",width:Ye.w,height:Ye.h}),(0,i.jsx)(u,{nowPlaying:ge,displayWaveform:re,expanded:be,onToggle:()=>Ae((e=>!e))}),Q?(0,i.jsxs)("div",{className:"lava-lamp-controls",ref:ve,children:[(0,i.jsx)("button",{type:"button",className:"lava-lamp-menu-toggle",onClick:me,"aria-label":de?"Hide menu":"Show menu","aria-pressed":de,children:de?"\u2715":"\u2630"}),de&&(0,i.jsxs)("div",{className:"lava-lamp-menu",children:[(0,i.jsxs)("div",{className:"lava-lamp-control-block",children:[(0,i.jsx)("div",{className:"lava-lamp-control-header",children:(0,i.jsxs)("div",{className:"lava-lamp-control-title",children:["speed: ",oe]})}),(0,i.jsx)("div",{className:"lava-lamp-slider-wrap",children:(0,i.jsx)("input",{className:"lava-lamp-slider",type:"range",min:0,max:Ke,step:1,value:oe,onChange:e=>{return ie((t=+e.target.value,a=Ke,t<(n=0)?n:t>a?a:t));var t,n,a},"aria-label":"Simulation speed"})})]}),(0,i.jsxs)("div",{className:"lava-lamp-control-block",children:[(0,i.jsx)("div",{className:"lava-lamp-control-header",children:(0,i.jsxs)("div",{className:"lava-lamp-control-title",children:["volume: ",Math.round(100*we),"%"]})}),(0,i.jsx)("div",{className:"lava-lamp-slider-wrap",children:(0,i.jsx)("input",{className:"lava-lamp-slider",type:"range",min:0,max:1,step:.01,value:we,onChange:e=>xe(+e.target.value),"aria-label":"Music volume"})})]}),(0,i.jsxs)("div",{className:"lava-lamp-control-block",children:[(0,i.jsx)("div",{className:"lava-lamp-control-header",children:(0,i.jsx)("div",{className:"lava-lamp-control-title",children:"audio source"})}),(0,i.jsx)("div",{className:"lava-lamp-slider-wrap",children:(0,i.jsx)("select",{className:"lava-lamp-slider",value:Y,onChange:e=>G(e.target.value),"aria-label":"Audio source",children:Object.entries(K).map((e=>{let[t,n]=e;return(0,i.jsx)("option",{value:t,children:n.label},t)}))})})]}),(0,i.jsxs)("div",{className:"lava-lamp-control-block",children:[(0,i.jsx)("div",{className:"lava-lamp-control-header",children:(0,i.jsx)("div",{className:"lava-lamp-control-title",children:"lava colors"})}),(0,i.jsx)("div",{className:"lava-lamp-slider-wrap",style:{marginBottom:12},children:(0,i.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:8,cursor:"pointer"},children:[(0,i.jsx)("input",{type:"checkbox",className:"lava-lamp-checkbox",checked:Re,onChange:e=>Te(e.target.checked)}),(0,i.jsx)("span",{style:{fontSize:13,opacity:.9},children:"rainbow drift mode"})]})}),(0,i.jsxs)("div",{className:"lava-lamp-color-row",children:[(0,i.jsxs)("label",{className:"lava-lamp-color-label",children:["hot",(0,i.jsx)("input",{className:"lava-lamp-color-input",type:"color",value:je,onChange:e=>{Me(e.target.value),Te(!1)},disabled:Re,"aria-label":"Lava high color"})]}),(0,i.jsxs)("label",{className:"lava-lamp-color-label",children:["cool",(0,i.jsx)("input",{className:"lava-lamp-color-input",type:"color",value:Ce,onChange:e=>{Se(e.target.value),Te(!1)},disabled:Re,"aria-label":"Lava low color"})]}),(0,i.jsx)("button",{type:"button",className:"lava-lamp-color-reset",onClick:()=>{Se(g),Me(x),Te(!1)},disabled:Re,children:"reset"})]})]}),!e&&(0,i.jsx)("div",{className:"lava-lamp-control-block",children:(0,i.jsx)("div",{className:"lava-lamp-slider-wrap",children:(0,i.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:8,cursor:"pointer"},children:[(0,i.jsx)("input",{type:"checkbox",className:"lava-lamp-checkbox",checked:pe,onChange:ye}),(0,i.jsx)("span",{style:{fontSize:13,opacity:.9},children:"fullscreen mode"})]})})}),(0,i.jsx)("div",{className:"lava-lamp-control-block",children:(0,i.jsxs)("button",{type:"button",className:"lava-lamp-power-off",onClick:()=>window.location.reload(),"aria-label":"Power off",children:[(0,i.jsx)("img",{src:l,alt:"Power off",className:"lava-lamp-power-off-icon"}),(0,i.jsx)("span",{children:"power off"})]})})]})]}):(0,i.jsx)("div",{className:"lava-lamp-start-overlay",children:(0,i.jsx)("button",{type:"button",className:"lava-lamp-start",onClick:ze,"aria-label":"Start lava lamp radio",children:(0,i.jsx)("img",{src:l,alt:"Power",className:"lava-lamp-start-icon"})})})]})}},7375:(e,t,n)=>{n.d(t,{D:()=>a});class a extends Audio{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];super(e),this.isPlayingSrc=e=>{var t;return(null===(t=this.src)||void 0===t?void 0:t.includes(e))&&this.currentTime>0&&!this.paused&&!this.ended&&this.readyState>2},this.isPlaying=()=>this.currentTime>0&&!this.paused&&!this.ended&&this.readyState>2,this.timeLeft=()=>this.duration-this.currentTime,this.reset=()=>{this.pause(),this.currentTime=0},this.loop=t,this.crossOrigin="anonymous"}}}}]);
//# sourceMappingURL=637.1678a1fd.chunk.js.map