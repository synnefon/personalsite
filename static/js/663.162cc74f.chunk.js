(()=>{const t={SHANNON_ENTROPY:function(t){const e=t.length,r={};for(let o=0;o<e;o++){let n=t[(o+1)%e]-t[o];n<0&&(n+=e),r[n]=(r[n]||0)+1}let n=0;for(const o in r){const t=r[o]/e;n+=Math.abs(Math.log(t)*t)}return n},NEIGHBOR_DIST:function(t){const e=t.length;let r=0;for(let n=0;n<e;n++){let o=t[(n+1)%e]-t[n];o<0&&(o+=e),r+=o}return r/e},LOCATION_DELTA:function(t){let e=0;for(let r=0;r<t.length;r++)e+=Math.abs(r-t[r]);return e/t.length}};function e(e,r,n){return{cardList:e,permutation:r,score:t[n](e)}}const r={PILE:function(t,r,n){const o=t.cardList,s=o.length,l=new Array(s),c=Math.floor(s/r),a=s%r;let f=0;const u=new Array(r),i=new Array(r);for(let e=0;e<r;e++)u[e]=f,i[e]=e<a?c+1:c,f+=i[e];const h=new Array(r);for(let e=0;e<r;e++)h[e]=u[e]+i[e]-1;for(let e=0;e<s;e++){const t=e%r;l[h[t]]=o[e],h[t]--}return e(l,[...t.permutation,r],n)},RANDOM_PILE:function(t,r,n){return function(t,r,n,o){const s=Array.from({length:n},(()=>[]));for(let e=0;e<r.cardList.length;e++)s[t(e)].unshift(r.cardList[e]);return e(s.flat(),[...r.permutation,n],o)}((()=>Math.floor(Math.random()*r)),t,r,n)}},n=self;n.onmessage=t=>{const{shuffleStrat:o,scoreType:s,maxShuffles:l,deckSize:c,minNumPiles:a,maxNumPiles:f}=t.data,u=Array.from({length:f-a+1},((t,e)=>e+a)),i=r[o],h=u.length,p=e(Array.from({length:c},((t,e)=>e)),[],s);let m=0;for(let e=1;e<=l;e++)m+=Math.pow(h,e);let d=0,g=null;const A=[{deck:p,depth:0}];!function t(){const e=performance.now();for(;A.length>0;){const{deck:r,depth:o}=A.pop();if(o>0&&(d++,(!g||r.score>g.score)&&(g={permutation:[...r.permutation],score:r.score})),o<l)for(let t=h-1;t>=0;t--){const e=i(r,u[t],s);A.push({deck:e,depth:o+1})}if(performance.now()-e>200)return n.postMessage({type:"progress",completed:d,total:m,round:1}),void setTimeout(t,0)}n.postMessage({type:"result",data:g?{permutation:g.permutation,score:g.score}:null})}()}})();
//# sourceMappingURL=663.162cc74f.chunk.js.map