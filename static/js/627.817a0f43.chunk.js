"use strict";(self.webpackChunkpersonalsite=self.webpackChunkpersonalsite||[]).push([[627],{9782:(e,s,t)=>{t.r(s),t.d(s,{default:()=>v});var l=t(9379),r=t(5043),a=t(1284),n=t.n(a),o=t(4672);function i(e){const s=e.length,t=[];for(let l=0;l<s;l++){let r=e[(l+1)%s]-e[l];r<0&&(r+=s),t.push(r)}return t}const c={SHANNON_ENTROPY:function(e){const s=i(e),t={};for(const l of s)t[l]=(t[l]||0)+1;return Object.values(t).map((s=>s/e.length)).map((e=>Math.abs(Math.log(e)*e))).filter((e=>e>0)).reduce(((e,s)=>e+s),0)},NEIGHBOR_DIST:function(e){return i(e).reduce(((e,s)=>e+s),0)/e.length},LOCATION_DELTA:function(e){let s=0;for(let t=0;t<e.length;t++){s+=Math.abs(t-e[t])}return s/e.length}};class u{constructor(e,s,t){this.cardList=e,this.permutation=s,this.scoreType=t,this.score=c[t](e)}equals(e){return e instanceof u&&this.cardList===e.cardList}hash(){return this.cardList.join(",")}print(){console.log(this.permutation,":",this.score)}}function f(e,s,t){const l=Array.from({length:t},(()=>[]));for(let n=0;n<s.cardList.length;n++){l[e(n)].unshift(s.cardList[n])}return r=s,new u((a=l).flat(),[...r.permutation,a.length],r.scoreType);var r,a}const h={PILE:function(e,s){return f((e=>e%s),e,s)}};function d(e,s,t){const l=[];for(const r of e)for(const e of s){const s=t(r,e);l.push(s)}return l}const m=async e=>{let{shuffleStrat:s,scoreType:t,maxShuffles:l,deckSize:r,minNumPiles:a,maxNumPiles:n}=e;const o=Array.from({length:n-a+1},((e,s)=>s+a)),i=Array.from({length:r},((e,s)=>s)),c=h[s];let f=[new u(i,[],t)],m=null;for(let u=0;u<l;u++){const e=d(f,o,c);f=[...new Set([...f,...e])],f.sort(((e,s)=>s.score-e.score)),m=f[0]}return m};var p=t(579);const x={control:(e,s)=>{let{isFocused:t}=s;return(0,l.A)((0,l.A)({},e),{},{backgroundColor:"var(--alt-bg-color)",borderColor:t?"var(--text-color)":"var(--tertiary)",cursor:"var(--pointer)"})},singleValue:e=>(0,l.A)((0,l.A)({},e),{},{color:"var(--alt-text-color)"}),option:(e,s)=>{let{isFocused:t,isSelected:r}=s;return(0,l.A)((0,l.A)({},e),{},{cursor:"var(--pointer)",color:r?"var(--bg-color)":"var(--alt-text-color)",backgroundColor:r?"var(--tertiary)":t?"var(--text-color)":"var(--alt-bg-color)",fontWeight:r?"bold":"normal"})},menu:e=>(0,l.A)((0,l.A)({},e),{},{backgroundColor:"var(--alt-bg-color)"}),indicatorSeparator:e=>(0,l.A)((0,l.A)({},e),{},{backgroundColor:"var(--alt-text-color)"})};function v(){const e=(0,r.useRef)(),[s,t]=(0,r.useState)(5),[l,a]=(0,r.useState)(10),[i,c]=(0,r.useState)({value:3,label:3}),[u,f]=(0,r.useState)({value:"PILE",label:"PILE"}),[h,d]=(0,r.useState)({value:"SHANNON_ENTROPY",label:"SHANNON_ENTROPY"}),[v,N]=(0,r.useState)(null),[b,j]=(0,r.useState)(!1),g=()=>(0,p.jsxs)("div",{className:"shufflenator-selector-row",children:[(0,p.jsx)("div",{className:"shufflenator-selector-row-title",children:"cards in deck:"}),(0,p.jsx)("input",{className:"shufflenator-selector-row-number",type:"number",ref:e,defaultValue:52,step:10,min:10,max:1e3})]}),y=(0,r.useRef)((0,p.jsx)(g,{})),S=()=>(0,p.jsxs)("div",{className:"shufflenator-selector-row",children:[(0,p.jsx)("div",{className:"shufflenator-selector-row-title",children:"pile size range:"}),(0,p.jsx)(n(),{className:"shufflenator-selector-row-slider",min:2,max:20,step:1,minValue:s,maxValue:l,onChange:e=>{const l=e.minValue!==s,r=l?e.minValue:Math.max(e.minValue,e.maxValue-10),n=l?Math.min(e.maxValue,e.minValue+10):e.maxValue;t(r),a(n)},preventWheel:!0,stepOnly:!1,ruler:!1,label:!1})]}),k=e=>{let{title:s,options:t,value:l,defaultValue:r,onChange:a}=e;return t=t.map((e=>({value:e,label:e}))),(0,p.jsxs)("div",{className:"shufflenator-selector-row",children:[(0,p.jsxs)("div",{className:"shufflenator-selector-row-title",children:[s,":"]}),(0,p.jsx)(o.Ay,{value:l,defaultValue:r,options:t,onChange:a,isSearchable:!1,styles:x})]})},w=()=>(0,p.jsx)(k,{title:"max shuffles",options:[1,2,3,4,5],value:i,defaultValue:3,onChange:c}),A=async()=>{const t=await m({shuffleStrat:u.value,scoreType:h.value,maxShuffles:i.value,deckSize:e.current.value,minNumPiles:s,maxNumPiles:l});N(t)},C=()=>(0,p.jsx)("div",{onClick:A,className:"shufflenator-submit-button",children:(0,p.jsx)("div",{className:"shufflenator-submit-button-text",children:"submit"})}),V=()=>(0,p.jsxs)("div",{className:"shufflenator-results",children:[(0,p.jsx)("span",{className:"shufflenator-results-number",children:"optimal sequence:"}),v.permutation.map(((e,s)=>(0,p.jsxs)("div",{children:["\xa0\xa0",s+1,". cyclically deal into ",(0,p.jsx)("span",{className:"shufflenator-results-number",children:e})," piles."]},s))),(0,p.jsx)("br",{}),(0,p.jsx)("div",{className:"shufflenator-results-note",children:"* after each step, reassemble piles in order."})]});return(0,p.jsxs)("div",{className:"shufflenator",children:[(0,p.jsxs)("div",{className:"shufflenator-header",children:[(0,p.jsx)("h1",{className:"shufflenator-title",children:"shufflenator"}),(0,p.jsx)("button",{className:"shufflenator-help-button",onClick:()=>j(!0),children:"?"})]}),b&&(0,p.jsx)("div",{className:"shufflenator-modal-overlay",onClick:()=>j(!1),children:(0,p.jsxs)("div",{className:"shufflenator-modal",onClick:e=>e.stopPropagation(),children:[(0,p.jsx)("button",{className:"shufflenator-modal-close",onClick:()=>j(!1),children:"\xd7"}),(0,p.jsxs)("div",{className:"shufflenator-explainer",children:[(0,p.jsx)("h2",{children:"how it works"}),(0,p.jsx)("p",{children:"this tool calculates the best pile shuffle pattern for thoroughly randomizing a deck of cards. pile shuffling alone doesn't randomize\u2014it performs a deterministic permutation. but the right sequence of pile shuffles can spread cards maximally before you do your riffle shuffles."}),(0,p.jsx)("p",{children:"configure your deck size, pile size range, and how many shuffles you want to perform. the calculator will find the permutation that maximizes shannon entropy (randomness) given your constraints."})]})]})}),(0,p.jsxs)("div",{className:"shufflenator-selector",children:[y.current,(0,p.jsx)(S,{}),(0,p.jsx)(w,{})]}),(0,p.jsx)(C,{}),v&&(0,p.jsx)(V,{})]})}}}]);
//# sourceMappingURL=627.817a0f43.chunk.js.map